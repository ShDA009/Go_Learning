# Первая программа

<Meta>
reading_time: 7
</Meta>

<Overview>
- Каждый файл Go принадлежит **пакету** (package)
- Исполняемая программа должна иметь пакет `main` и функцию `main()`
- Импорт внешних пакетов осуществляется через `import`
- `fmt` — стандартный пакет для форматированного ввода-вывода
- `go run` — запуск без компиляции, `go build` — компиляция в исполняемый файл

### Анатомия программы на Go

```
┌─────────────────────────────────────┐
│  package main         ← Пакет       │
├─────────────────────────────────────┤
│  import "fmt"         ← Импорты     │
├─────────────────────────────────────┤
│  func main() {        ← Точка входа │
│      // код                         │
│  }                                  │
└─────────────────────────────────────┘
```
</Overview>

<Theory>
### Что такое пакет (package)?

**Пакет** — это способ организации кода в Go. Каждый файл `.go` принадлежит ровно одному пакету. Пакет объединяет связанный код и определяет область видимости.

Представьте пакет как папку с файлами на одну тему:
- `fmt` — форматированный ввод-вывод
- `os` — работа с операционной системой
- `net/http` — HTTP-сервер и клиент

### Почему пакет main особенный?

Когда вы запускаете программу, Go ищет:
1. Пакет с именем `main`
2. Функцию `main()` внутри него

Это **точка входа** — место, откуда начинается выполнение программы. Без пакета `main` программа не может быть запущена (но может быть использована как библиотека).

### Что делает import?

`import` подключает код из других пакетов. Go имеет богатую стандартную библиотеку:

```go
import "fmt"     // форматированный вывод
import "os"      // работа с ОС
import "strings" // работа со строками
import "time"    // работа со временем
```

Если вы импортируете пакет, но не используете его — **ошибка компиляции**. Go не терпит "мусора".

### go run vs go build

**go run** — компилирует и сразу запускает:
```bash
go run main.go  # создаёт временный файл, запускает, удаляет
```
Удобно для разработки и тестирования.

**go build** — компилирует в исполняемый файл:
```bash
go build main.go  # создаёт main.exe (Windows) или main (Linux/Mac)
./main            # запуск
```
Используйте для создания готовой программы.

### Почему fmt.Println, а не просто Println?

В Go всё, что вы используете из другого пакета, должно иметь префикс имени пакета:

```go
fmt.Println()    // функция Println из пакета fmt
os.Exit(1)       // функция Exit из пакета os
strings.ToUpper("hello")  // функция ToUpper из пакета strings
```

Это делает код **явным** — всегда понятно, откуда взялась функция.

### Hello, World — традиция программирования

Программа "Hello, World" — это традиция с 1978 года, когда Брайан Керниган использовал её в книге о языке C. С тех пор это стандартный первый пример для любого языка программирования.
</Theory>

<Syntax>
### Объявление пакета
```go
package имя_пакета
```

### Импорт одного пакета
```go
import "имя_пакета"
```

### Импорт нескольких пакетов
```go
import (
    "fmt"
    "os"
    "strings"
)
```

### Функция main
```go
func main() {
    // Код программы
}
```

### Вывод в консоль
```go
fmt.Println("текст")      // С переносом строки
fmt.Print("текст")        // Без переноса строки
fmt.Printf("шаблон", ...)  // Форматированный вывод
```

### Команды компилятора
```bash
go run файл.go     # Запустить (компиляция в памяти)
go build файл.go   # Скомпилировать в исполняемый файл
go build -o имя    # Скомпилировать с указанием имени
```
</Syntax>

<Examples>
кода

### Пример 1: Hello World
```go
package main

import "fmt"

func main() {
    fmt.Println("Hello, World!")
}
```

### Пример 2: Несколько строк вывода
```go
package main

import "fmt"

func main() {
    fmt.Println("Строка 1")
    fmt.Println("Строка 2")
    fmt.Println("Строка 3")
}
```

### Пример 3: Print vs Println
```go
package main

import "fmt"

func main() {
    fmt.Print("Привет, ")     // Без переноса
    fmt.Print("мир!")         // Продолжение на той же строке
    fmt.Println()             // Перенос строки
    fmt.Println("Новая строка")
}
// Вывод:
// Привет, мир!
// Новая строка
```

### Пример 4: Форматированный вывод
```go
package main

import "fmt"

func main() {
    name := "Го"
    version := 1.22
    
    fmt.Printf("Язык: %s\n", name)
    fmt.Printf("Версия: %.2f\n", version)
    fmt.Printf("Язык %s версии %.1f\n", name, version)
}
// Вывод:
// Язык: Го
// Версия: 1.22
// Язык Го версии 1.2
```

### Пример 5: Импорт нескольких пакетов
```go
package main

import (
    "fmt"
    "time"
)

func main() {
    fmt.Println("Текущее время:", time.Now())
}
```

### Пример 6: Комментарии
```go
package main

import "fmt"

// Это однострочный комментарий

/*
   Это многострочный
   комментарий
*/

func main() {
    fmt.Println("Комментарии игнорируются компилятором")
}
```
</Examples>

<Pitfalls>
### 1. Отсутствует package main
```go
// ❌ Неправильно
import "fmt"

func main() {
    fmt.Println("Hello")
}
// Ошибка: expected 'package', found 'import'

// ✅ Правильно
package main

import "fmt"

func main() {
    fmt.Println("Hello")
}
```

### 2. Неиспользуемый импорт
```go
// ❌ Неправильно — Go не позволяет неиспользуемые импорты
package main

import (
    "fmt"
    "os"  // imported and not used
)

func main() {
    fmt.Println("Hello")
}

// ✅ Правильно — удалите неиспользуемый импорт
package main

import "fmt"

func main() {
    fmt.Println("Hello")
}
```

### 3. Скобка на новой строке
```go
// ❌ Неправильно — в Go открывающая скобка должна быть на той же строке
func main()
{
    fmt.Println("Hello")
}
// Ошибка: missing function body

// ✅ Правильно
func main() {
    fmt.Println("Hello")
}
```

### 4. Функция с маленькой буквы из другого пакета
```go
// ❌ Неправильно
fmt.println("Hello")  // println с маленькой буквы не экспортирована

// ✅ Правильно — экспортируемые функции начинаются с заглавной буквы
fmt.Println("Hello")
```

### 5. Забыли func перед main
```go
// ❌ Неправильно
package main

import "fmt"

main() {
    fmt.Println("Hello")
}
// Ошибка: syntax error: unexpected main

// ✅ Правильно
func main() {
    fmt.Println("Hello")
}
```

### 6. Неправильные кавычки
```go
// ❌ Неправильно — нельзя использовать одинарные кавычки для строк
fmt.Println('Hello')  // одинарные кавычки для rune (символа)

// ✅ Правильно
fmt.Println("Hello")  // двойные кавычки для строк
```
</Pitfalls>

<Task id="1" points="5">
<Title>Задание 1: Hello World классический</Title>
<Prompt>
Напишите классическую программу "Hello, World!" — традиционное первое упражнение в любом языке программирования.
</Prompt>
<Hints>
- Запятая и пробел после "Hello" обязательны
- Восклицательный знак в конце
</Hints>
<StarterCode>
```go
package main

import "fmt"

func main() {
    // Ваш код здесь
}
```
</StarterCode>
<ExpectedOutput>
Hello, World!
</ExpectedOutput>
</Task>

<Task id="2" points="10">
<Title>Задание 2: Print без переноса строки</Title>
<Prompt>
Изучите разницу между `Print` и `Println`. Используя только `fmt.Print()`, выведите слово "GOLANG" по одной букве за раз (6 вызовов Print).
</Prompt>
<Hints>
- `fmt.Print()` не добавляет перенос строки
- Можно добавить `fmt.Println()` в конце для переноса
</Hints>
<StarterCode>
```go
package main

import "fmt"

func main() {
    // Выведите каждую букву отдельным Print
}
```
</StarterCode>
<ExpectedOutput>
GOLANG
</ExpectedOutput>
</Task>

<Task id="3" points="10">
<Title>Задание 3: Форматированный вывод числа</Title>
<Prompt>
Используйте `fmt.Printf()` для форматированного вывода. Создайте переменную с числом и выведите её с описанием.
</Prompt>
<Hints>
- Спецификатор `%d` выводит целое число
- `Printf` не добавляет перенос строки автоматически — используйте `\n`
</Hints>
<StarterCode>
```go
package main

import "fmt"

func main() {
    answer := 42
    // Используйте Printf для вывода
}
```
</StarterCode>
<ExpectedOutput>
Ответ на главный вопрос: 42
</ExpectedOutput>
</Task>

<Task id="4" points="15">
<Title>Задание 4: Несколько импортов</Title>
<Prompt>
Импортируйте пакеты `fmt` и `time`, затем выведите приветствие и текущий год.
</Prompt>
<Hints>
- Группировка: `import ("fmt" "time")` — каждый пакет на новой строке
- `time.Now()` возвращает текущее время, `.Year()` — год
</Hints>
<StarterCode>
```go
package main

// Добавьте импорты

func main() {
    // Получите год и выведите сообщение
}
```
</StarterCode>
<ExpectedOutput>
Привет из 2024 года!
</ExpectedOutput>
</Task>

<Task id="5" points="20">
<Title>Задание 5: Комбинированный вывод</Title>
<Prompt>
Создайте информационную карточку программы, используя переменные и форматированный вывод. Выведите название, версию и автора программы.
</Prompt>
<Hints>
- Используйте `%s` для строк в `Printf`
- Разделители можно вывести через `Println`
</Hints>
<StarterCode>
```go
package main

import "fmt"

func main() {
    name := "MyApp"
    version := "1.0.0"
    author := "Student"
    // Создайте красивый вывод
}
```
</StarterCode>
<ExpectedOutput>
===== О программе =====
Название: MyApp
Версия: 1.0.0
Автор: Student
=======================
</ExpectedOutput>
</Task>
