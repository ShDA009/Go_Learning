# –°–∏–Ω—Ç–∞–∫—Å–∏—Å —à–∞–±–ª–æ–Ω–æ–≤

## üí° –ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏

1. **{{ range }}** ‚Äî —Ü–∏–∫–ª –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
2. **{{ if }}** ‚Äî —É—Å–ª–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
3. **{{ with }}** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
4. **–û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è** ‚Äî eq, ne, lt, gt, le, ge
5. **–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã** ‚Äî and, or, not

---

## üìã –°–∏–Ω—Ç–∞–∫—Å–∏—Å

### –¶–∏–∫–ª—ã

```go
{{ range .Items }}
    {{ . }}
{{ end }}

{{ range $index, $item := .Items }}
    {{ $index }}: {{ $item }}
{{ end }}

{{ range .Items }}
    {{ . }}
{{ else }}
    No items
{{ end }}
```

### –£—Å–ª–æ–≤–∏—è

```go
{{ if .Condition }}
    True
{{ end }}

{{ if .Condition }}
    True
{{ else }}
    False
{{ end }}
```

---

## üìñ –¢–µ–æ—Ä–∏—è

### range ‚Äî –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º

```go
data := struct {
    Items []string
}{
    Items: []string{"Go", "Python", "JavaScript"},
}
```

```html
{{ range .Items }}
    <li>{{ . }}</li>
{{ end }}
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```html
<li>Go</li>
<li>Python</li>
<li>JavaScript</li>
```

### range —Å –∏–Ω–¥–µ–∫—Å–æ–º

```html
{{ range $index, $item := .Items }}
    <li>{{ $index }}: {{ $item }}</li>
{{ end }}
```

### range —Å else (–ø—É—Å—Ç–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è)

```html
{{ range .Items }}
    <li>{{ . }}</li>
{{ else }}
    <p>–°–ø–∏—Å–æ–∫ –ø—É—Å—Ç</p>
{{ end }}
```

### if ‚Äî —É—Å–ª–æ–≤–∏—è

```html
{{ if .LoggedIn }}
    <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ .Username }}!</p>
{{ else }}
    <a href="/login">–í–æ–π—Ç–∏</a>
{{ end }}
```

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

```html
{{ if eq .Status "active" }}–ê–∫—Ç–∏–≤–µ–Ω{{ end }}
{{ if ne .Count 0 }}–ï—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã{{ end }}
{{ if lt .Age 18 }}–ù–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏–π{{ end }}
{{ if gt .Price 100 }}–î–æ—Ä–æ–≥–æ{{ end }}
```

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| `eq` | == |
| `ne` | != |
| `lt` | < |
| `gt` | > |
| `le` | <= |
| `ge` | >= |

### –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

```html
{{ if and .LoggedIn .IsAdmin }}
    –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
{{ end }}

{{ if or .IsModerator .IsAdmin }}
    –ú–æ–¥–µ—Ä–∞—Ü–∏—è
{{ end }}

{{ if not .Disabled }}
    –ê–∫—Ç–∏–≤–Ω–æ
{{ end }}
```

### with ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

```go
data := struct {
    User struct {
        Name  string
        Email string
    }
}{}
```

```html
{{ with .User }}
    <p>{{ .Name }}</p>     <!-- .User.Name -->
    <p>{{ .Email }}</p>    <!-- .User.Email -->
{{ end }}
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```html
{{ $name := .User.Name }}
<h1>{{ $name }}</h1>
<p>–ò–º—è: {{ $name }}</p>
```

### define –∏ template ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```html
{{ define "header" }}
    <header><h1>{{.Title}}</h1></header>
{{ end }}

{{ template "header" . }}
```

---

## üìã –°–∏–Ω—Ç–∞–∫—Å–∏—Å

### –£—Å–ª–æ–≤–∏—è

```go
{{ if .Condition }}
    True
{{ end }}

{{ if .Condition }}
    True
{{ else }}
    False
{{ end }}

{{ if .A }}
    A
{{ else if .B }}
    B
{{ else }}
    Neither
{{ end }}
```

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

```go
{{ if eq .A .B }}   // A == B
{{ if ne .A .B }}   // A != B
{{ if lt .A .B }}   // A < B
{{ if le .A .B }}   // A <= B
{{ if gt .A .B }}   // A > B
{{ if ge .A .B }}   // A >= B
```

---

## üíª –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### –¶–∏–∫–ª range ‚Äî –ø—Ä–æ—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫

```go
package main

import (
    "html/template"
    "net/http"
)

func main() {
    http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
        users := []string{"Alice", "Bob", "Charlie"}
        
        tmpl := template.Must(template.New("list").Parse(`
<ul>
{{ range . }}
    <li>{{ . }}</li>
{{ end }}
</ul>
        `))
        
        tmpl.Execute(w, users)
    })
    
    http.ListenAndServe(":8080", nil)
}
```

### –¶–∏–∫–ª —Å –∏–Ω–¥–µ–∫—Å–æ–º

```go
package main

import (
    "html/template"
    "net/http"
)

func main() {
    http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
        items := []string{"First", "Second", "Third"}
        
        tmpl := template.Must(template.New("list").Parse(`
<ol>
{{ range $i, $item := . }}
    <li>{{ $i }}: {{ $item }}</li>
{{ end }}
</ol>
        `))
        
        tmpl.Execute(w, items)
    })
    
    http.ListenAndServe(":8080", nil)
}
```

### –¶–∏–∫–ª –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º

```go
package main

import (
    "html/template"
    "net/http"
)

type User struct {
    Name  string
    Email string
    Age   int
}

type PageData struct {
    Title string
    Users []User
}

func main() {
    http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
        data := PageData{
            Title: "Users",
            Users: []User{
                {Name: "Alice", Email: "alice@example.com", Age: 25},
                {Name: "Bob", Email: "bob@example.com", Age: 30},
                {Name: "Charlie", Email: "charlie@example.com", Age: 35},
            },
        }
        
        tmpl := template.Must(template.New("users").Parse(`
<h1>{{ .Title }}</h1>
<table>
    <tr><th>Name</th><th>Email</th><th>Age</th></tr>
    {{ range .Users }}
    <tr>
        <td>{{ .Name }}</td>
        <td>{{ .Email }}</td>
        <td>{{ .Age }}</td>
    </tr>
    {{ end }}
</table>
        `))
        
        tmpl.Execute(w, data)
    })
    
    http.ListenAndServe(":8080", nil)
}
```

### Range —Å else (–ø—É—Å—Ç–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è)

```go
package main

import (
    "html/template"
    "net/http"
)

func main() {
    http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
        items := []string{}  // –ø—É—Å—Ç–æ–π slice
        
        tmpl := template.Must(template.New("list").Parse(`
<h2>Items:</h2>
{{ range . }}
    <p>{{ . }}</p>
{{ else }}
    <p>No items found</p>
{{ end }}
        `))
        
        tmpl.Execute(w, items)
    })
    
    http.ListenAndServe(":8080", nil)
}
```

### –£—Å–ª–æ–≤–∏—è if/else

```go
package main

import (
    "html/template"
    "net/http"
)

type PageData struct {
    LoggedIn bool
    Username string
    IsAdmin  bool
}

func main() {
    http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
        data := PageData{
            LoggedIn: true,
            Username: "John",
            IsAdmin:  false,
        }
        
        tmpl := template.Must(template.New("page").Parse(`
{{ if .LoggedIn }}
    <p>Welcome, {{ .Username }}!</p>
    {{ if .IsAdmin }}
        <a href="/admin">Admin Panel</a>
    {{ else }}
        <a href="/profile">My Profile</a>
    {{ end }}
{{ else }}
    <p>Please <a href="/login">login</a></p>
{{ end }}
        `))
        
        tmpl.Execute(w, data)
    })
    
    http.ListenAndServe(":8080", nil)
}
```

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

```go
package main

import (
    "html/template"
    "net/http"
)

type Product struct {
    Name     string
    Price    int
    Quantity int
}

func main() {
    http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
        product := Product{Name: "Phone", Price: 500, Quantity: 3}
        
        tmpl := template.Must(template.New("product").Parse(`
<h1>{{ .Name }}</h1>
<p>Price: ${{ .Price }}</p>

{{ if gt .Price 100 }}
    <span class="expensive">Expensive!</span>
{{ end }}

{{ if eq .Quantity 0 }}
    <span class="out-of-stock">Out of stock</span>
{{ else if lt .Quantity 5 }}
    <span class="low-stock">Only {{ .Quantity }} left!</span>
{{ else }}
    <span class="in-stock">In stock</span>
{{ end }}
        `))
        
        tmpl.Execute(w, product)
    })
    
    http.ListenAndServe(":8080", nil)
}
```

### –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

```go
package main

import (
    "html/template"
    "net/http"
)

type User struct {
    IsAdmin     bool
    IsVerified  bool
    IsBanned    bool
}

func main() {
    http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
        user := User{IsAdmin: false, IsVerified: true, IsBanned: false}
        
        tmpl := template.Must(template.New("user").Parse(`
{{ if and .IsVerified (not .IsBanned) }}
    <p>User can post comments</p>
{{ end }}

{{ if or .IsAdmin .IsVerified }}
    <p>User has special privileges</p>
{{ end }}

{{ if and .IsAdmin (not .IsBanned) }}
    <a href="/admin">Admin Panel</a>
{{ end }}
        `))
        
        tmpl.Execute(w, user)
    })
    
    http.ListenAndServe(":8080", nil)
}
```

### With ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

```go
package main

import (
    "html/template"
    "net/http"
)

type Address struct {
    Street  string
    City    string
    Country string
}

type Person struct {
    Name    string
    Address *Address
}

func main() {
    http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
        person := Person{
            Name: "John",
            Address: &Address{
                Street:  "123 Main St",
                City:    "New York",
                Country: "USA",
            },
        }
        
        tmpl := template.Must(template.New("person").Parse(`
<h1>{{ .Name }}</h1>

{{ with .Address }}
<div class="address">
    <p>{{ .Street }}</p>
    <p>{{ .City }}, {{ .Country }}</p>
</div>
{{ else }}
<p>No address provided</p>
{{ end }}
        `))
        
        tmpl.Execute(w, person)
    })
    
    http.ListenAndServe(":8080", nil)
}
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —à–∞–±–ª–æ–Ω–∞—Ö

```go
package main

import (
    "html/template"
    "net/http"
)

type PageData struct {
    Title   string
    Items   []string
    BaseURL string
}

func main() {
    http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
        data := PageData{
            Title:   "My Page",
            Items:   []string{"Item 1", "Item 2", "Item 3"},
            BaseURL: "https://example.com",
        }
        
        tmpl := template.Must(template.New("page").Parse(`
{{ $title := .Title }}
{{ $base := .BaseURL }}

<h1>{{ $title }}</h1>
<ul>
{{ range $i, $item := .Items }}
    <li>
        <a href="{{ $base }}/item/{{ $i }}">{{ $item }}</a>
    </li>
{{ end }}
</ul>
        `))
        
        tmpl.Execute(w, data)
    })
    
    http.ListenAndServe(":8080", nil)
}
```

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã (define/template)

```go
package main

import (
    "html/template"
    "net/http"
)

type PageData struct {
    Title   string
    Content string
}

const templates = `
{{ define "header" }}
<header>
    <h1>{{ .Title }}</h1>
    <nav>
        <a href="/">Home</a>
        <a href="/about">About</a>
    </nav>
</header>
{{ end }}

{{ define "footer" }}
<footer>
    <p>&copy; 2025 My Company</p>
</footer>
{{ end }}

{{ define "page" }}
<!DOCTYPE html>
<html>
<body>
    {{ template "header" . }}
    <main>{{ .Content }}</main>
    {{ template "footer" . }}
</body>
</html>
{{ end }}
`

func main() {
    tmpl := template.Must(template.New("").Parse(templates))
    
    http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
        data := PageData{
            Title:   "Welcome",
            Content: "This is the home page content.",
        }
        tmpl.ExecuteTemplate(w, "page", data)
    })
    
    http.ListenAndServe(":8080", nil)
}
```

---

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### 1. –ü—Ä–æ–±–µ–ª—ã –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö

```go
// ‚ùå –õ–∏—à–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã —Å—Ç—Ä–æ–∫ –≤ –≤—ã–≤–æ–¥–µ
{{ range .Items }}
{{ . }}
{{ end }}

// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ - –¥–ª—è trim
{{- range .Items }}
{{ . }}
{{- end }}
```

### 2. –ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ range

```go
// ‚ùå –í–Ω—É—Ç—Ä–∏ range –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–µ–Ω—è–µ—Ç—Å—è
{{ range .Users }}
    {{ .PageTitle }}  // –û—à–∏–±–∫–∞! PageTitle ‚Äî –≤ —Ä–æ–¥–∏—Ç–µ–ª–µ
{{ end }}

// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ $ –¥–ª—è –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
{{ range .Users }}
    {{ $.PageTitle }}
{{ end }}
```

---

## üèãÔ∏è –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

### –ó–∞–¥–∞–Ω–∏–µ 1: Docker –æ–±—Ä–∞–∑

–°–æ–∑–¥–∞–π—Ç–µ Dockerfile –¥–ª—è Go.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Dockerfile: FROM golang:1.22, COPY, RUN go build
```

**–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:**
```go
package main

import "fmt"

func main() {
    fmt.Println("Dockerfile: FROM golang:1.22, COPY, RUN go build")
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
Dockerfile: FROM golang:1.22, COPY, RUN go build
```

**–ë–∞–ª–ª—ã:** 10

### –ó–∞–¥–∞–Ω–∏–µ 2: Multi-stage build

–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –æ–±—Ä–∞–∑.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Multi-stage: builder image + scratch/alpine
```

**–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:**
```go
package main

import "fmt"

func main() {
    fmt.Println("Multi-stage: builder image + scratch/alpine")
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
Multi-stage: builder image + scratch/alpine
```

**–ë–∞–ª–ª—ã:** 15

### –ó–∞–¥–∞–Ω–∏–µ 3: Docker Compose

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ docker-compose.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Compose: services: app, db, redis
```

**–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:**
```go
package main

import "fmt"

func main() {
    fmt.Println("Compose: services: app, db, redis")
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
Compose: services: app, db, redis
```

**–ë–∞–ª–ª—ã:** 15

### –ó–∞–¥–∞–Ω–∏–µ 4: Health checks

–î–æ–±–∞–≤—å—Ç–µ healthcheck endpoint.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Health: GET /health -> {"status": "ok"}
```

**–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:**
```go
package main

import "fmt"

func main() {
    fmt.Println("Health: GET /health -> {\"status\": \"ok\"}")
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
Health: GET /health -> {"status": "ok"}
```

**–ë–∞–ª–ª—ã:** 15

### –ó–∞–¥–∞–Ω–∏–µ 5: Environment variables

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ env.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Env: os.Getenv("DATABASE_URL")
```

**–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:**
```go
package main

import "fmt"

func main() {
    fmt.Println("Env: os.Getenv(\"DATABASE_URL\")")
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
Env: os.Getenv("DATABASE_URL")
```

**–ë–∞–ª–ª—ã:** 10
