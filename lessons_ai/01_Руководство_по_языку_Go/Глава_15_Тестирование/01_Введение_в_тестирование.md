# –í–≤–µ–¥–µ–Ω–∏–µ –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Go

---

## üí° –ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –Ω–µ–æ—Ç—ä–µ–º–ª–µ–º–∞—è —á–∞—Å—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ Go
2. **–ü–∞–∫–µ—Ç testing** ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Go –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
3. **–ö–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è** ‚Äî —Ñ–∞–π–ª—ã `*_test.go`, —Ñ—É–Ω–∫—Ü–∏–∏ `Test*`
4. **go test** ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
5. **Table-driven tests** ‚Äî –∏–¥–∏–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –≤ Go
6. **Coverage** ‚Äî –∏–∑–º–µ—Ä–µ–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏

### –ó–∞—á–µ–º –Ω—É–∂–Ω—ã —Ç–µ—Å—Ç—ã?

| –ü—Ä–∏—á–∏–Ω–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| –ö–∞—á–µ—Å—Ç–≤–æ | –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –¥–æ –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω |
| –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ | –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | –¢–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–¥ |
| CI/CD | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ |
| –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å | –°–ø–æ–∫–æ–π–Ω—ã–π –¥–µ–ø–ª–æ–π –≤ production |

---

## üìñ –¢–µ–æ—Ä–∏—è

### –ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ?

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–≥–æ, —á—Ç–æ –≤–∞—à –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫, –∫–∞–∫ –∑–∞–¥—É–º–∞–Ω–æ. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã –ø–æ—Å—Ç—Ä–æ–∏–ª–∏ –º–∞—à–∏–Ω—É. –ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –≤—ã–µ—Ö–∞—Ç—å –Ω–∞ –¥–æ—Ä–æ–≥—É, –≤—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç–µ —Ç–æ—Ä–º–æ–∑–∞, –¥–≤–∏–≥–∞—Ç–µ–ª—å, —Ñ–∞—Ä—ã. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ ‚Äî —ç—Ç–æ —Ç–æ –∂–µ —Å–∞–º–æ–µ: –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–∞–∂–¥–∞—è "–¥–µ—Ç–∞–ª—å" –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

### –ü–æ—á–µ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–∂–Ω–æ?

–ë–µ–∑ —Ç–µ—Å—Ç–æ–≤ –≤—ã —É–∑–Ω–∞—ë—Ç–µ –æ –±–∞–≥–∞—Ö —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –≠—Ç–æ –∫–∞–∫ —É–∑–Ω–∞—Ç—å –æ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω—ã—Ö —Ç–æ—Ä–º–æ–∑–∞—Ö —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ 100 –∫–º/—á ‚Äî –Ω–µ–ø—Ä–∏—è—Ç–Ω–æ –∏ –æ–ø–∞—Å–Ω–æ.

**–¢–µ—Å—Ç—ã –¥–∞—é—Ç –≤–∞–º:**
- **–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å** ‚Äî –≤—ã –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö** ‚Äî –º–æ–∂–µ—Ç–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –∫–æ–¥, –Ω–µ –±–æ—è—Å—å —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞—Ç—å
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** ‚Äî —Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞—à –∫–æ–¥
- **–≠–∫–æ–Ω–æ–º–∏—é –≤—Ä–µ–º–µ–Ω–∏** ‚Äî –±–∞–≥, –Ω–∞–π–¥–µ–Ω–Ω—ã–π –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ 10 —Ä–∞–∑ –¥–µ—à–µ–≤–ª–µ, —á–µ–º –±–∞–≥ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Go?

Go –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî –ø–∞–∫–µ—Ç `testing`. –≠—Ç–æ –Ω–µ –≤–Ω–µ—à–Ω—è—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∞ —á–∞—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ –≤–∞–∂–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Go.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:**

1. **–§–∞–π–ª—ã —Ç–µ—Å—Ç–æ–≤** –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –Ω–∞ `_test.go`:
   - `math.go` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
   - `math_test.go` ‚Äî —Ç–µ—Å—Ç—ã –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–¥–∞

2. **–§—É–Ω–∫—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤** –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `Test`:
   - `TestAdd` ‚Äî —Ç–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–∏ Add
   - `TestUserCreate` ‚Äî —Ç–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

3. **–ü–∞—Ä–∞–º–µ—Ç—Ä `t *testing.T`** ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–æ–æ–±—â–∞–µ—Ç–µ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö —Ç–µ—Å—Ç–∞

### –ê–Ω–∞—Ç–æ–º–∏—è —Ç–µ—Å—Ç–∞

–ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç —Å–ª–µ–¥—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—É **AAA** (Arrange-Act-Assert):

```
1. Arrange (–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞)  ‚Äî –≥–æ—Ç–æ–≤–∏–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∞
2. Act (–î–µ–π—Å—Ç–≤–∏–µ)        ‚Äî –≤—ã–∑—ã–≤–∞–µ–º —Ç–µ—Å—Ç–∏—Ä—É–µ–º—É—é —Ñ—É–Ω–∫—Ü–∏—é
3. Assert (–ü—Ä–æ–≤–µ—Ä–∫–∞)     ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

**–ü—Ä–∏–º–µ—Ä:**
```go
func TestAdd(t *testing.T) {
    // Arrange ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞
    a := 2
    b := 3
    expected := 5
    
    // Act ‚Äî –¥–µ–π—Å—Ç–≤–∏–µ
    result := Add(a, b)
    
    // Assert ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞
    if result != expected {
        t.Errorf("Add(%d, %d) = %d; want %d", a, b, result, expected)
    }
}
```

### –í–∏–¥—ã —Ç–µ—Å—Ç–æ–≤

1. **Unit-—Ç–µ—Å—Ç—ã** ‚Äî —Ç–µ—Å—Ç–∏—Ä—É—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
2. **Integration-—Ç–µ—Å—Ç—ã** ‚Äî —Ç–µ—Å—Ç–∏—Ä—É—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. **End-to-end —Ç–µ—Å—Ç—ã** ‚Äî —Ç–µ—Å—Ç–∏—Ä—É—é—Ç –≤—Å—é —Å–∏—Å—Ç–µ–º—É —Ü–µ–ª–∏–∫–æ–º

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã —Ñ–æ–∫—É—Å–∏—Ä—É–µ–º—Å—è –Ω–∞ unit-—Ç–µ—Å—Ç–∞—Ö ‚Äî —Å–∞–º–æ–º –±–∞–∑–æ–≤–æ–º –∏ –≤–∞–∂–Ω–æ–º –≤–∏–¥–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ `go test`:

```bash
go test           # –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ
go test ./...     # –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤–æ –≤—Å–µ—Ö –ø–æ–¥–ø–∞–ø–∫–∞—Ö
go test -v        # –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ (verbose)
```

–§–ª–∞–≥ `-v` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞ –∏ –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —á—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ.

---

## üìã –°–∏–Ω—Ç–∞–∫—Å–∏—Å

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞

```go
package mypackage  // —Ç–æ—Ç –∂–µ –ø–∞–∫–µ—Ç, —á—Ç–æ –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–¥

import "testing"

func TestFunctionName(t *testing.T) {
    // Arrange ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞
    // Act ‚Äî –¥–µ–π—Å—Ç–≤–∏–µ
    // Assert ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞
}
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã *testing.T

```go
t.Error(args...)      // –ª–æ–≥–∏—Ä—É–µ—Ç –æ—à–∏–±–∫—É, —Ç–µ—Å—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è
t.Errorf(format, ...) // –ª–æ–≥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ—à–∏–±–∫—É
t.Fail()              // –ø–æ–º–µ—á–∞–µ—Ç —Ç–µ—Å—Ç –∫–∞–∫ –ø—Ä–æ–≤–∞–ª–∏–≤—à–∏–π—Å—è
t.FailNow()           // –ø–æ–º–µ—á–∞–µ—Ç –∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç —Ç–µ—Å—Ç
t.Fatal(args...)      // Error + FailNow
t.Fatalf(format, ...) // Errorf + FailNow
t.Log(args...)        // –ª–æ–≥–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
t.Logf(format, ...)   // –ª–æ–≥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
t.Skip(args...)       // –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç
t.Helper()            // –ø–æ–º–µ—á–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ helper
```

### –ö–æ–º–∞–Ω–¥—ã go test

```bash
go test                    # –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ —Ç–µ–∫—É—â–µ–º –ø–∞–∫–µ—Ç–µ
go test ./...              # –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤–æ –≤—Å–µ—Ö –ø–æ–¥–ø–∞–∫–µ—Ç–∞—Ö
go test -v                 # verbose ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
go test -run TestName      # –∑–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
go test -cover             # –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ
go test -coverprofile=c.out # —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–∫—Ä—ã—Ç–∏—è
```

---

## üíª –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–µ–π—à–∏–π —Ç–µ—Å—Ç

**math.go:**
```go
package math

func Add(a, b int) int {
    return a + b
}

func Subtract(a, b int) int {
    return a - b
}
```

**math_test.go:**
```go
package math

import "testing"

func TestAdd(t *testing.T) {
    result := Add(2, 3)
    expected := 5
    
    if result != expected {
        t.Errorf("Add(2, 3) = %d; want %d", result, expected)
    }
}

func TestSubtract(t *testing.T) {
    result := Subtract(10, 4)
    expected := 6
    
    if result != expected {
        t.Errorf("Subtract(10, 4) = %d; want %d", result, expected)
    }
}
```

### –ü—Ä–∏–º–µ—Ä 2: –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤ –æ–¥–Ω–æ–º —Ç–µ—Å—Ç–µ

```go
package math

import "testing"

func TestAddMultipleCases(t *testing.T) {
    // –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞
    if Add(1, 1) != 2 {
        t.Error("Add(1, 1) should be 2")
    }
    
    // –ù–æ–ª—å
    if Add(0, 5) != 5 {
        t.Error("Add(0, 5) should be 5")
    }
    
    // –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞
    if Add(-1, -1) != -2 {
        t.Error("Add(-1, -1) should be -2")
    }
    
    // –°–º–µ—à–∞–Ω–Ω—ã–µ
    if Add(-5, 10) != 5 {
        t.Error("Add(-5, 10) should be 5")
    }
}
```

### –ü—Ä–∏–º–µ—Ä 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ t.Fatal

```go
package user

import "testing"

type User struct {
    Name string
    Age  int
}

func GetUser(id int) (*User, error) {
    if id <= 0 {
        return nil, fmt.Errorf("invalid id: %d", id)
    }
    return &User{Name: "John", Age: 30}, nil
}

func TestGetUser(t *testing.T) {
    user, err := GetUser(1)
    
    // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Äî –¥–∞–ª—å—à–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω–æ
    if err != nil {
        t.Fatalf("GetUser(1) returned error: %v", err)
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–ª—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ user –Ω–µ nil
    if user.Name != "John" {
        t.Errorf("expected name John, got %s", user.Name)
    }
    
    if user.Age != 30 {
        t.Errorf("expected age 30, got %d", user.Age)
    }
}
```

### –ü—Ä–∏–º–µ—Ä 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

```go
package validator

import (
    "errors"
    "testing"
)

var ErrEmpty = errors.New("value is empty")
var ErrTooShort = errors.New("value is too short")

func Validate(s string) error {
    if s == "" {
        return ErrEmpty
    }
    if len(s) < 3 {
        return ErrTooShort
    }
    return nil
}

func TestValidate(t *testing.T) {
    // –¢–µ—Å—Ç –Ω–∞ –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É
    err := Validate("")
    if err != ErrEmpty {
        t.Errorf("Validate(\"\") = %v; want ErrEmpty", err)
    }
    
    // –¢–µ—Å—Ç –Ω–∞ –∫–æ—Ä–æ—Ç–∫—É—é —Å—Ç—Ä–æ–∫—É
    err = Validate("ab")
    if err != ErrTooShort {
        t.Errorf("Validate(\"ab\") = %v; want ErrTooShort", err)
    }
    
    // –¢–µ—Å—Ç –Ω–∞ –≤–∞–ª–∏–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
    err = Validate("hello")
    if err != nil {
        t.Errorf("Validate(\"hello\") = %v; want nil", err)
    }
}
```

### –ü—Ä–∏–º–µ—Ä 5: –¢–µ—Å—Ç —Å –ø—Ä–æ–ø—É—Å–∫–æ–º

```go
package database

import (
    "os"
    "testing"
)

func TestDatabaseConnection(t *testing.T) {
    // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç, –µ—Å–ª–∏ –Ω–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
    dbURL := os.Getenv("DATABASE_URL")
    if dbURL == "" {
        t.Skip("DATABASE_URL not set, skipping integration test")
    }
    
    // ... —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
}

func TestSlowOperation(t *testing.T) {
    // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–∏ –∫–æ—Ä–æ—Ç–∫–æ–º –∑–∞–ø—É—Å–∫–µ
    if testing.Short() {
        t.Skip("skipping slow test in short mode")
    }
    
    // ... –¥–æ–ª–≥–∏–π —Ç–µ—Å—Ç
}
```

### –ü—Ä–∏–º–µ—Ä 6: –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (helpers)

```go
package user

import "testing"

// assertEqual ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
func assertEqual(t *testing.T, got, want interface{}) {
    t.Helper()  // –ø–æ–º–µ—á–∞–µ–º –∫–∞–∫ helper ‚Äî –æ—à–∏–±–∫–∞ –ø–æ–∫–∞–∂–µ—Ç —Å—Ç—Ä–æ–∫—É –≤—ã–∑–æ–≤–∞
    if got != want {
        t.Errorf("got %v; want %v", got, want)
    }
}

func TestWithHelper(t *testing.T) {
    assertEqual(t, Add(2, 2), 4)
    assertEqual(t, Add(0, 0), 0)
    assertEqual(t, Add(-1, 1), 0)
}
```

### –ü—Ä–∏–º–µ—Ä 7: –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å —Ä–µ–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π

**stringutil.go:**
```go
package stringutil

import "strings"

// Reverse –ø–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫—É
func Reverse(s string) string {
    runes := []rune(s)
    for i, j := 0, len(runes)-1; i < j; i, j = i+1, j-1 {
        runes[i], runes[j] = runes[j], runes[i]
    }
    return string(runes)
}

// IsPalindrome –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å—Ç—Ä–æ–∫–∞ –ø–∞–ª–∏–Ω–¥—Ä–æ–º–æ–º
func IsPalindrome(s string) bool {
    s = strings.ToLower(s)
    return s == Reverse(s)
}
```

**stringutil_test.go:**
```go
package stringutil

import "testing"

func TestReverse(t *testing.T) {
    result := Reverse("hello")
    if result != "olleh" {
        t.Errorf("Reverse(\"hello\") = %q; want \"olleh\"", result)
    }
}

func TestReverseEmpty(t *testing.T) {
    result := Reverse("")
    if result != "" {
        t.Errorf("Reverse(\"\") = %q; want \"\"", result)
    }
}

func TestReverseUnicode(t *testing.T) {
    result := Reverse("–ü—Ä–∏–≤–µ—Ç")
    if result != "—Ç–µ–≤–∏—Ä–ü" {
        t.Errorf("Reverse(\"–ü—Ä–∏–≤–µ—Ç\") = %q; want \"—Ç–µ–≤–∏—Ä–ü\"", result)
    }
}

func TestIsPalindrome(t *testing.T) {
    if !IsPalindrome("radar") {
        t.Error("radar should be a palindrome")
    }
    
    if !IsPalindrome("Radar") {
        t.Error("Radar should be a palindrome (case insensitive)")
    }
    
    if IsPalindrome("hello") {
        t.Error("hello should not be a palindrome")
    }
}
```

---

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏

```go
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û ‚Äî —Ñ–∞–π–ª –Ω–µ –±—É–¥–µ—Ç –Ω–∞–π–¥–µ–Ω
// –§–∞–π–ª: math_tests.go (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å math_test.go)

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω–∞
func testAdd(t *testing.T) {  // –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å TestAdd
    // ...
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û ‚Äî –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞
func TestAdd(t testing.T) {  // –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å *testing.T
    // ...
}

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
// –§–∞–π–ª: math_test.go
func TestAdd(t *testing.T) {
    // ...
}
```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Error –≤–º–µ—Å—Ç–æ Fatal

```go
// ‚ùå –ü–õ–û–•–û ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å nil —É–∫–∞–∑–∞—Ç–µ–ª–µ–º
func TestUser(t *testing.T) {
    user, err := GetUser(1)
    if err != nil {
        t.Error(err)  // —Ç–µ—Å—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—Å—è!
    }
    fmt.Println(user.Name)  // panic: nil pointer
}

// ‚úÖ –•–û–†–û–®–û ‚Äî –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–µ—Å—Ç
func TestUser(t *testing.T) {
    user, err := GetUser(1)
    if err != nil {
        t.Fatal(err)  // —Ç–µ—Å—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è
    }
    fmt.Println(user.Name)  // –±–µ–∑–æ–ø–∞—Å–Ω–æ
}
```

### 3. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

```go
// ‚ùå –ü–õ–û–•–û
if result != expected {
    t.Error("test failed")
}

// ‚úÖ –•–û–†–û–®–û
if result != expected {
    t.Errorf("Add(%d, %d) = %d; want %d", a, b, result, expected)
}
```

### 4. –ó–∞–±—ã–ª–∏ t.Helper()

```go
// ‚ùå –ü–õ–û–•–û ‚Äî –æ—à–∏–±–∫–∞ –ø–æ–∫–∞–∂–µ—Ç —Å—Ç—Ä–æ–∫—É –≤–Ω—É—Ç—Ä–∏ helper
func checkEqual(t *testing.T, got, want int) {
    if got != want {
        t.Errorf("got %d; want %d", got, want)  // –æ—à–∏–±–∫–∞ —Ç—É—Ç
    }
}

// ‚úÖ –•–û–†–û–®–û ‚Äî –æ—à–∏–±–∫–∞ –ø–æ–∫–∞–∂–µ—Ç —Å—Ç—Ä–æ–∫—É –≤—ã–∑–æ–≤–∞
func checkEqual(t *testing.T, got, want int) {
    t.Helper()
    if got != want {
        t.Errorf("got %d; want %d", got, want)
    }
}
```

---

## üèãÔ∏è –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

### –ó–∞–¥–∞–Ω–∏–µ 1: –ü–µ—Ä–≤—ã–π —Ç–µ—Å—Ç

–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `Multiply(a, b int) int` –∏ —Ç–µ—Å—Ç –¥–ª—è –Ω–µ—ë.

**–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:**
```go
// math.go
package math

func Multiply(a, b int) int {
    // –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é
}
```

```go
// math_test.go
package math

import "testing"

func TestMultiply(t *testing.T) {
    // –ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
=== RUN   TestMultiply
--- PASS: TestMultiply (0.00s)
PASS
```

**–ë–∞–ª–ª—ã:** 10

### –ó–∞–¥–∞–Ω–∏–µ 2: –¢–µ—Å—Ç –¥–µ–ª–µ–Ω–∏—è —Å –æ—à–∏–±–∫–æ–π

–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `Divide(a, b int) (int, error)`, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ –¥–µ–ª–µ–Ω–∏–∏ –Ω–∞ –Ω–æ–ª—å. –ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –æ–±–æ–∏—Ö —Å–ª—É—á–∞–µ–≤.

**–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:**
```go
// math.go
package math

import "errors"

var ErrDivisionByZero = errors.New("division by zero")

func Divide(a, b int) (int, error) {
    // –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é
}
```

```go
// math_test.go
package math

import "testing"

func TestDivide(t *testing.T) {
    // –¢–µ—Å—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ª–µ–Ω–∏—è
}

func TestDivideByZero(t *testing.T) {
    // –¢–µ—Å—Ç –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –Ω–æ–ª—å
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
=== RUN   TestDivide
--- PASS: TestDivide (0.00s)
=== RUN   TestDivideByZero
--- PASS: TestDivideByZero (0.00s)
PASS
```

**–ë–∞–ª–ª—ã:** 15

### –ó–∞–¥–∞–Ω–∏–µ 3: –¢–µ—Å—Ç —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏

–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `Abs(x int) int` –∏ —Ç–µ—Å—Ç —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª –∏ –Ω—É–ª—è.

**–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:**
```go
// math.go
package math

func Abs(x int) int {
    // –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é
}
```

```go
// math_test.go
func TestAbs(t *testing.T) {
    // –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: Abs(5) == 5, Abs(-5) == 5, Abs(0) == 0
    // –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ t.Errorf –¥–ª—è –≤—ã–≤–æ–¥–∞ –æ—à–∏–±–æ–∫
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
=== RUN   TestAbs
--- PASS: TestAbs (0.00s)
PASS
```

**–ë–∞–ª–ª—ã:** 10

### –ó–∞–¥–∞–Ω–∏–µ 4: Helper —Ñ—É–Ω–∫—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ helper-—Ñ—É–Ω–∫—Ü–∏—é `assertEqual` –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—ë –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –∫–æ–¥–∞ —Ç–µ—Å—Ç–æ–≤.

**–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:**
```go
package main

import (
    "fmt"
    "testing"
)

// TODO: –ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç

func main() {
    // –í–∞—à –∫–æ–¥ –∑–¥–µ—Å—å
    
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
=== RUN   TestWithHelper
--- PASS: TestWithHelper (0.00s)
PASS
```

**–ë–∞–ª–ª—ã:** 10

### –ó–∞–¥–∞–Ω–∏–µ 5: –¢–µ—Å—Ç —Å—Ç—Ä–æ–∫–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `Reverse(s string) string` –∏ —Ç–µ—Å—Ç –¥–ª—è –Ω–µ—ë.

**–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:**
```go
package main

import (
    "fmt"
    "testing"
)

// TODO: –ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç

func main() {
    // –í–∞—à –∫–æ–¥ –∑–¥–µ—Å—å
    
}
```

```go
// strings_test.go
package strings

import "testing"

func TestReverse(t *testing.T) {
    tests := []struct {
        input    string
        expected string
    }{
        {"hello", "olleh"},
        {"", ""},
        {"a", "a"},
        {"–ü—Ä–∏–≤–µ—Ç", "—Ç–µ–≤–∏—Ä–ü"},
    }
    
    for _, tc := range tests {
        got := Reverse(tc.input)
        if got != tc.expected {
            t.Errorf("Reverse(%q) = %q; want %q", tc.input, got, tc.expected)
        }
    }
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
=== RUN   TestReverse
--- PASS: TestReverse (0.00s)
PASS
```

**–ë–∞–ª–ª—ã:** 15

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Go Testing Package](https://pkg.go.dev/testing)
- [How to Write Go Code ‚Äî Testing](https://go.dev/doc/code#Testing)
- [Go Blog ‚Äî Table Driven Tests](https://go.dev/blog/subtests)
