# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ —Å –ø–æ–º–æ—â—å—é –ø–∞–ø–∫–∏ vendor

## üí° –ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏

1. **vendor** ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
2. **–ò–∑–æ–ª—è—Ü–∏—è** ‚Äî –ø—Ä–æ–µ–∫—Ç –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞ –∏–ª–∏ —Å–µ—Ç–∏
3. **–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å** ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π –Ω–∞ –ª—é–±–æ–π –º–∞—à–∏–Ω–µ
4. **–û—Ñ–ª–∞–π–Ω-—Å–±–æ—Ä–∫–∞** ‚Äî –º–æ–∂–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
5. **go mod vendor** ‚Äî –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞–ø–∫–∏ vendor

---

## üìã –°–∏–Ω—Ç–∞–∫—Å–∏—Å

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏ vendor
go mod vendor

# –°–±–æ—Ä–∫–∞ —Å —è–≤–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º vendor
go build -mod=vendor

# –ó–∞–ø—É—Å–∫ —Å vendor
go run -mod=vendor .

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ vendor –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
go mod vendor
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏ vendor

```
myproject/
‚îú‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ go.sum
‚îú‚îÄ‚îÄ main.go
‚îî‚îÄ‚îÄ vendor/
    ‚îú‚îÄ‚îÄ modules.txt           # –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    ‚îî‚îÄ‚îÄ github.com/
        ‚îî‚îÄ‚îÄ somepackage/
            ‚îî‚îÄ‚îÄ ...           # –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
```

---

## üíª –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### –®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

```bash
mkdir myapp
cd myapp
go mod init myapp
```

### –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
go get github.com/fatih/color
go get github.com/rs/zerolog
```

### –®–∞–≥ 3: –ù–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞

**main.go:**
```go
package main

import (
    "os"
    
    "github.com/fatih/color"
    "github.com/rs/zerolog"
    "github.com/rs/zerolog/log"
)

func main() {
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–≥–µ—Ä–∞
    log.Logger = log.Output(zerolog.ConsoleWriter{Out: os.Stderr})
    
    // –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥
    color.Green("Application started!")
    
    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    log.Info().Msg("Hello from zerolog!")
    log.Debug().Str("status", "ok").Msg("Debug message")
    
    color.Blue("Application finished!")
}
```

### –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏ vendor

```bash
go mod vendor
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```
myapp/
‚îú‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ go.sum
‚îú‚îÄ‚îÄ main.go
‚îî‚îÄ‚îÄ vendor/
    ‚îú‚îÄ‚îÄ modules.txt
    ‚îú‚îÄ‚îÄ github.com/
    ‚îÇ   ‚îú‚îÄ‚îÄ fatih/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ color/
    ‚îÇ   ‚îú‚îÄ‚îÄ mattn/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ go-colorable/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ go-isatty/
    ‚îÇ   ‚îî‚îÄ‚îÄ rs/
    ‚îÇ       ‚îî‚îÄ‚îÄ zerolog/
    ‚îî‚îÄ‚îÄ golang.org/
        ‚îî‚îÄ‚îÄ x/
            ‚îî‚îÄ‚îÄ sys/
```

### –°–æ–¥–µ—Ä–∂–∏–º–æ–µ vendor/modules.txt

```
# github.com/fatih/color v1.15.0
## explicit; go 1.17
github.com/fatih/color

# github.com/mattn/go-colorable v0.1.13
## explicit; go 1.15
github.com/mattn/go-colorable

# github.com/mattn/go-isatty v0.0.19
## explicit; go 1.15
github.com/mattn/go-isatty

# github.com/rs/zerolog v1.30.0
## explicit; go 1.15
github.com/rs/zerolog
github.com/rs/zerolog/internal/cbor
github.com/rs/zerolog/internal/json
github.com/rs/zerolog/log

# golang.org/x/sys v0.12.0
## explicit; go 1.17
golang.org/x/sys/unix
golang.org/x/sys/windows
```

### –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å vendor

```bash
# Go –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç vendor (—Å Go 1.14+)
go run .
go build .

# –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ (–¥–ª—è —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π –∏–ª–∏ –≥–∞—Ä–∞–Ω—Ç–∏–∏)
go run -mod=vendor .
go build -mod=vendor .
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# 1. –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
go get -u github.com/fatih/color

# 2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º go.mod
go mod tidy

# 3. –û–±–Ω–æ–≤–ª—è–µ–º vendor
go mod vendor
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ vendor

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è vendor –∏ go.mod
go mod verify

# –ï—Å–ª–∏ vendor —É—Å—Ç–∞—Ä–µ–ª ‚Äî –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë–º
go mod vendor
```

### Gitignore –∏–ª–∏ git add?

**–î–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫–æ–º–º–∏—Ç–∏—Ç—å):**
```gitignore
# –ù–ï –¥–æ–±–∞–≤–ª—è–µ–º vendor –≤ .gitignore
# vendor/ ‚Äî –æ—Å—Ç–∞–≤–ª—è–µ–º –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
```

**–î–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫ (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å):**
```gitignore
# –î–æ–±–∞–≤–ª—è–µ–º vendor –≤ .gitignore
vendor/
```

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: CI/CD

**Dockerfile –±–µ–∑ vendor:**
```dockerfile
FROM golang:1.21

WORKDIR /app
COPY go.mod go.sum ./
RUN go mod download  # —Å–∫–∞—á–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

COPY . .
RUN go build -o myapp .
CMD ["./myapp"]
```

**Dockerfile —Å vendor (–±—ã—Å—Ç—Ä–µ–µ, –Ω–∞–¥—ë–∂–Ω–µ–µ):**
```dockerfile
FROM golang:1.21

WORKDIR /app
COPY . .
RUN go build -mod=vendor -o myapp .  # –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π vendor
CMD ["./myapp"]
```

### –ó–∞–º–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π

```go
// go.mod
module myapp

go 1.21

require github.com/somepackage v1.0.0

// –ó–∞–º–µ–Ω–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
replace github.com/somepackage => ../local-somepackage
```

```bash
# –ü–æ—Å–ª–µ replace ‚Äî –æ–±–Ω–æ–≤–ª—è–µ–º vendor
go mod vendor
```

---

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### 1. vendor —Å–æ–∑–¥–∞–Ω –¥–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞

```bash
# ‚ùå –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
$ go mod vendor
go: warning: "all" matched no packages

# ‚úÖ –°–Ω–∞—á–∞–ª–∞ –Ω–∞–ø–∏—à–∏—Ç–µ –∫–æ–¥ —Å import, –ø–æ—Ç–æ–º vendor
```

### 2. vendor –Ω–µ –æ–±–Ω–æ–≤–ª—ë–Ω –ø–æ—Å–ª–µ go get

```bash
# ‚ùå –î–æ–±–∞–≤–∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –Ω–æ vendor —Å—Ç–∞—Ä—ã–π
go get github.com/new/package
go build .  # OK (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–µ—à)

# –ù–∞ –¥—Ä—É–≥–æ–π –º–∞—à–∏–Ω–µ (–±–µ–∑ –∫–µ—à–∞):
go build -mod=vendor .  # –û–®–ò–ë–ö–ê: –ø–∞–∫–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ vendor

# ‚úÖ –ü–æ—Å–ª–µ go get –æ–±–Ω–æ–≤–∏—Ç–µ vendor
go mod vendor
```

### 3. –ö–æ–Ω—Ñ–ª–∏–∫—Ç vendor –∏ go.mod

```bash
# ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
go: inconsistent vendoring in /path/to/project:
    github.com/pkg@v1.0.0: is explicitly required in go.mod, but not marked as explicit in vendor/modules.txt

# ‚úÖ –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ vendor
go mod vendor
```

### 4. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ vendor

```
# ‚ùå –ù–ò–ö–û–ì–î–ê –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –≤ vendor/
# –ò–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã –ø—Ä–∏ go mod vendor

# ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ replace –≤ go.mod –¥–ª—è –∑–∞–º–µ–Ω—ã –ø–∞–∫–µ—Ç–∞
replace github.com/original => ../my-fork
```

### 5. –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π vendor –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ

```
# ‚ùå –î–ª—è –ë–ò–ë–õ–ò–û–¢–ï–ö vendor –Ω–µ –Ω—É–∂–µ–Ω
# –≠—Ç–æ –≤—ã–∑–æ–≤–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

# ‚úÖ vendor –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –ü–†–ò–õ–û–ñ–ï–ù–ò–ô
```

### 6. –ó–∞–±—ã–ª–∏ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è vendor

```bash
# ‚ùå –û–±–Ω–æ–≤–∏–ª–∏ vendor, –Ω–æ –Ω–µ –∑–∞–∫–æ–º–º–∏—Ç–∏–ª–∏
git status  # vendor/... modified

# –ù–∞ CI/CD ‚Äî —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è, –æ—à–∏–±–∫–∏!

# ‚úÖ –ö–æ–º–º–∏—Ç—å—Ç–µ vendor –≤–º–µ—Å—Ç–µ —Å go.mod –∏ go.sum
git add vendor/ go.mod go.sum
git commit -m "Update dependencies"
```

---

## üìù –ü—Ä–∞–∫—Ç–∏–∫–∞

### –ó–∞–¥–∞—á–∞ 1: –°–æ–∑–¥–∞–Ω–∏–µ vendor
–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç —Å 2-3 –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø–∞–ø–∫—É vendor.

### –ó–∞–¥–∞—á–∞ 2: –ò–∑—É—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
–ò–∑—É—á–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ vendor/modules.txt. –ù–∞–π–¥–∏—Ç–µ –≤—Å–µ –ø—Ä—è–º—ã–µ –∏ –∫–æ—Å–≤–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

### –ó–∞–¥–∞—á–∞ 3: –û—Ñ–ª–∞–π–Ω —Å–±–æ—Ä–∫–∞
–°–æ–∑–¥–∞–π—Ç–µ vendor, –æ—Ç–∫–ª—é—á–∏—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `go build -mod=vendor` —Ä–∞–±–æ—Ç–∞–µ—Ç.

### –ó–∞–¥–∞—á–∞ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
–û–±–Ω–æ–≤–∏—Ç–µ –æ–¥–Ω—É –∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`go get -u`), –∑–∞—Ç–µ–º –æ–±–Ω–æ–≤–∏—Ç–µ vendor. –°—Ä–∞–≤–Ω–∏—Ç–µ modules.txt –¥–æ –∏ –ø–æ—Å–ª–µ.

### –ó–∞–¥–∞—á–∞ 5: Git workflow
–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–µ–∫—Ç —Å vendor –≤ git. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã vendor –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã.

### –ó–∞–¥–∞—á–∞ 6: Dockerfile
–ù–∞–ø–∏—à–∏—Ç–µ –¥–≤–∞ Dockerfile: —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º vendor. –°—Ä–∞–≤–Ω–∏—Ç–µ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏.

### –ó–∞–¥–∞—á–∞ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
–í—ã–ø–æ–ª–Ω–∏—Ç–µ `go mod verify`. –ù–∞–º–µ—Ä–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª –≤ vendor/ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–Ω–æ–≤–∞.

### –ó–∞–¥–∞—á–∞ 8: Replace –∏ vendor
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—É replace –≤ go.mod –¥–ª—è –∑–∞–º–µ–Ω—ã –ø–∞–∫–µ—Ç–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é. –û–±–Ω–æ–≤–∏—Ç–µ vendor.
