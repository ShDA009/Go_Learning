# ÐšÐ°Ñ€Ñ‚Ñ‹ (Maps) Ð² Go

## ðŸ’¡ ÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ð¸Ð´ÐµÐ¸

1. **ÐšÐ°Ñ€Ñ‚Ð° (map)** â€” ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… "ÐºÐ»ÑŽÑ‡-Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ" (Ñ…ÐµÑˆ-Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°, ÑÐ»Ð¾Ð²Ð°Ñ€ÑŒ)
2. **Ð¡ÑÑ‹Ð»Ð¾Ñ‡Ð½Ñ‹Ð¹ Ñ‚Ð¸Ð¿** â€” ÐºÐ°Ñ€Ñ‚Ñƒ Ð½ÑƒÐ¶Ð½Ð¾ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ´ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼
3. **Ð£Ð½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ðµ ÐºÐ»ÑŽÑ‡Ð¸** â€” ÐºÐ°Ð¶Ð´Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ Ð¼Ð¾Ð¶ÐµÑ‚ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð°Ñ‚ÑŒÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð´Ð¸Ð½ Ñ€Ð°Ð·
4. **ÐÐµÑƒÐ¿Ð¾Ñ€ÑÐ´Ð¾Ñ‡ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ** â€” Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð½Ðµ Ð³Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½
5. **Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿** â€” O(1) Ð´Ð»Ñ Ñ‡Ñ‚ÐµÐ½Ð¸Ñ, Ð·Ð°Ð¿Ð¸ÑÐ¸ Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ

---

## ðŸ“‹ Ð¡Ð¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ

### ÐžÐ±ÑŠÑÐ²Ð»ÐµÐ½Ð¸Ðµ Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ

```go
var m map[KeyType]ValueType        // nil ÐºÐ°Ñ€Ñ‚Ð° (Ð½ÐµÐ»ÑŒÐ·Ñ Ð¿Ð¸ÑÐ°Ñ‚ÑŒ!)
m := map[string]int{}              // Ð¿ÑƒÑÑ‚Ð°Ñ ÐºÐ°Ñ€Ñ‚Ð°
m := map[string]int{"a": 1, "b": 2} // Ñ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹
m := make(map[string]int)          // Ñ‡ÐµÑ€ÐµÐ· make
m := make(map[string]int, 100)     // Ñ Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ñ‘Ð¼ÐºÐ¾ÑÑ‚ÑŒÑŽ
```

### ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸

```go
m[key] = value                     // Ð·Ð°Ð¿Ð¸ÑÑŒ/Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ
value := m[key]                    // Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ
value, ok := m[key]                // Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¾Ð¹
delete(m, key)                     // ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ
len(m)                             // ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð²
```

---

## ðŸ’» ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ ÐºÐ¾Ð´Ð°

### Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¸ Ð±Ð°Ð·Ð¾Ð²Ñ‹Ðµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸

```go
package main

import "fmt"

func main() {
    // Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹ Ñ Ð»Ð¸Ñ‚ÐµÑ€Ð°Ð»Ð¾Ð¼
    ages := map[string]int{
        "Tom":   30,
        "Alice": 25,
        "Bob":   35,
    }
    
    // Ð§Ñ‚ÐµÐ½Ð¸Ðµ
    fmt.Println("Ð’Ð¾Ð·Ñ€Ð°ÑÑ‚ Tom:", ages["Tom"])  // 30
    
    // Ð—Ð°Ð¿Ð¸ÑÑŒ Ð½Ð¾Ð²Ð¾Ð³Ð¾ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°
    ages["Kate"] = 28
    
    // ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰ÐµÐ³Ð¾
    ages["Tom"] = 31
    
    // Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ
    delete(ages, "Bob")
    
    // Ð’Ñ‹Ð²Ð¾Ð´ Ð²ÑÐµÐ¹ ÐºÐ°Ñ€Ñ‚Ñ‹
    fmt.Println(ages)  // map[Alice:25 Kate:28 Tom:31]
}
```

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ñ ÐºÐ»ÑŽÑ‡Ð°

```go
package main

import "fmt"

func main() {
    users := map[string]int{
        "admin":  1,
        "editor": 2,
    }
    
    // Ð¡Ð¿Ð¾ÑÐ¾Ð± 1: Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ‡ÐµÑ€ÐµÐ· ok
    if id, ok := users["admin"]; ok {
        fmt.Println("admin Ð½Ð°Ð¹Ð´ÐµÐ½, ID:", id)
    }
    
    // Ð¡Ð¿Ð¾ÑÐ¾Ð± 2: Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ñ
    if _, ok := users["guest"]; !ok {
        fmt.Println("guest Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½")
    }
    
    // âŒ ÐžÐŸÐÐ¡ÐÐž: Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ Ð½ÐµÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰ÐµÐ³Ð¾ ÐºÐ»ÑŽÑ‡Ð° Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð½ÑƒÐ»ÐµÐ²Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ
    fmt.Println("guest ID:", users["guest"])  // 0 (Ð½ÑƒÐ»ÐµÐ²Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ int)
    
    // ÐšÐ°Ðº Ð¾Ñ‚Ð»Ð¸Ñ‡Ð¸Ñ‚ÑŒ "ÐºÐ»ÑŽÑ‡ ÑÐ¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÐµÐ¼ 0" Ð¾Ñ‚ "ÐºÐ»ÑŽÑ‡Ð° Ð½ÐµÑ‚"?
    users["viewer"] = 0  // ÑÐ²Ð½Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ð»Ð¸ 0
    
    id1 := users["viewer"]  // 0
    id2 := users["unknown"] // Ñ‚Ð¾Ð¶Ðµ 0!
    
    // Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ñ ok Ð¼Ð¾Ð¶Ð½Ð¾ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð¸Ñ‚ÑŒ
    _, ok1 := users["viewer"]  // ok1 = true
    _, ok2 := users["unknown"] // ok2 = false
    fmt.Println("viewer exists:", ok1, "unknown exists:", ok2)
}
```

### ÐŸÐµÑ€ÐµÐ±Ð¾Ñ€ ÐºÐ°Ñ€Ñ‚Ñ‹

```go
package main

import "fmt"

func main() {
    scores := map[string]int{
        "Alice": 95,
        "Bob":   87,
        "Carol": 92,
    }
    
    // ÐŸÐµÑ€ÐµÐ±Ð¾Ñ€ ÐºÐ»ÑŽÑ‡ÐµÐ¹ Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹
    for name, score := range scores {
        fmt.Printf("%s: %d\n", name, score)
    }
    
    // Ð¢Ð¾Ð»ÑŒÐºÐ¾ ÐºÐ»ÑŽÑ‡Ð¸
    fmt.Println("\nÐ¢Ð¾Ð»ÑŒÐºÐ¾ Ð¸Ð¼ÐµÐ½Ð°:")
    for name := range scores {
        fmt.Println(name)
    }
    
    // âš ï¸ ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº Ð¿ÐµÑ€ÐµÐ±Ð¾Ñ€Ð° Ð¡Ð›Ð£Ð§ÐÐ™ÐÐ«Ð™ Ð¿Ñ€Ð¸ ÐºÐ°Ð¶Ð´Ð¾Ð¼ Ð·Ð°Ð¿ÑƒÑÐºÐµ!
}
```

### ÐšÐ°Ñ€Ñ‚Ð° ÐºÐ°Ðº Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð¾ (Set)

```go
package main

import "fmt"

func main() {
    // Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ map[T]bool ÐºÐ°Ðº Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð¾
    set := make(map[string]bool)
    
    // Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð²
    set["apple"] = true
    set["banana"] = true
    set["orange"] = true
    
    // ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ñ
    if set["apple"] {
        fmt.Println("apple Ð² Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ðµ")
    }
    
    if !set["grape"] {
        fmt.Println("grape ÐÐ• Ð² Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ðµ")
    }
    
    // Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ
    delete(set, "banana")
    
    // Ð‘Ð¾Ð»ÐµÐµ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚: map[T]struct{}
    efficientSet := make(map[string]struct{})
    efficientSet["item1"] = struct{}{}
    
    if _, exists := efficientSet["item1"]; exists {
        fmt.Println("item1 ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚")
    }
}
```

### ÐŸÐ¾Ð´ÑÑ‡Ñ‘Ñ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð²

```go
package main

import "fmt"

func main() {
    text := "hello world hello go hello"
    words := []string{"hello", "world", "hello", "go", "hello"}
    
    // ÐŸÐ¾Ð´ÑÑ‡Ñ‘Ñ‚ ÑÐ»Ð¾Ð²
    counter := make(map[string]int)
    for _, word := range words {
        counter[word]++  // Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð½ÑƒÐ»Ñ‘Ð¼
    }
    
    fmt.Println("Ð§Ð°ÑÑ‚Ð¾Ñ‚Ð° ÑÐ»Ð¾Ð²:")
    for word, count := range counter {
        fmt.Printf("  %s: %d\n", word, count)
    }
    
    // ÐŸÐ¾Ð´ÑÑ‡Ñ‘Ñ‚ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
    charCount := make(map[rune]int)
    for _, char := range text {
        charCount[char]++
    }
    
    fmt.Println("\nÐ§Ð°ÑÑ‚Ð¾Ñ‚Ð° ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²:")
    for char, count := range charCount {
        fmt.Printf("  '%c': %d\n", char, count)
    }
}
```

### ÐšÐ°Ñ€Ñ‚Ð° Ñ ÑÐ¾ÑÑ‚Ð°Ð²Ð½Ñ‹Ð¼Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÐ¼Ð¸

```go
package main

import "fmt"

type User struct {
    Name  string
    Email string
    Age   int
}

func main() {
    // ÐšÐ°Ñ€Ñ‚Ð° ÑÐ¾ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°Ð¼Ð¸
    users := map[int]User{
        1: {Name: "Tom", Email: "tom@mail.com", Age: 30},
        2: {Name: "Alice", Email: "alice@mail.com", Age: 25},
    }
    
    // Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ
    users[3] = User{Name: "Bob", Email: "bob@mail.com", Age: 35}
    
    // Ð§Ñ‚ÐµÐ½Ð¸Ðµ
    if user, ok := users[1]; ok {
        fmt.Printf("User 1: %s (%s)\n", user.Name, user.Email)
    }
    
    // âš ï¸ ÐÐµÐ»ÑŒÐ·Ñ Ð¸Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð¿Ð¾Ð»Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ!
    // users[1].Age = 31  // ÐžÐ¨Ð˜Ð‘ÐšÐ: cannot assign to struct field
    
    // âœ… ÐÑƒÐ¶Ð½Ð¾ Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð²ÑÑŽ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ
    user := users[1]
    user.Age = 31
    users[1] = user
    
    // Ð˜Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÑƒÐºÐ°Ð·Ð°Ñ‚ÐµÐ»Ð¸
    usersPtr := map[int]*User{
        1: {Name: "Tom", Age: 30},
    }
    usersPtr[1].Age = 31  // OK
}
```

### Ð’Ð»Ð¾Ð¶ÐµÐ½Ð½Ñ‹Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹

```go
package main

import "fmt"

func main() {
    // ÐšÐ°Ñ€Ñ‚Ð° ÐºÐ°Ñ€Ñ‚: ÑÑ‚Ñ€Ð°Ð½Ð° -> Ð³Ð¾Ñ€Ð¾Ð´ -> Ð½Ð°ÑÐµÐ»ÐµÐ½Ð¸Ðµ
    population := map[string]map[string]int{
        "Russia": {
            "Moscow":      12000000,
            "SPb":         5000000,
            "Novosibirsk": 1600000,
        },
        "USA": {
            "New York":   8400000,
            "Los Angeles": 4000000,
        },
    }
    
    // Ð§Ñ‚ÐµÐ½Ð¸Ðµ
    fmt.Println("ÐœÐ¾ÑÐºÐ²Ð°:", population["Russia"]["Moscow"])
    
    // Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð³Ð¾Ñ€Ð¾Ð´Ð°
    population["Russia"]["Kazan"] = 1200000
    
    // Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð²Ð¾Ð¹ ÑÑ‚Ñ€Ð°Ð½Ñ‹
    population["Germany"] = map[string]int{
        "Berlin": 3700000,
    }
    
    // Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ðµ Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ Ð²Ð»Ð¾Ð¶ÐµÐ½Ð½Ð¾Ð¹ ÐºÐ°Ñ€Ñ‚Ñ‹
    if cities, ok := population["France"]; ok {
        fmt.Println("ÐŸÐ°Ñ€Ð¸Ð¶:", cities["Paris"])
    } else {
        fmt.Println("Ð¤Ñ€Ð°Ð½Ñ†Ð¸Ñ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð°")
    }
}
```

### Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ ÐºÐ°Ñ€Ñ‚

```go
package main

import (
    "fmt"
    "reflect"
)

func main() {
    m1 := map[string]int{"a": 1, "b": 2}
    m2 := map[string]int{"a": 1, "b": 2}
    m3 := map[string]int{"a": 1, "b": 3}
    
    // ÐÐµÐ»ÑŒÐ·Ñ ÑÑ€Ð°Ð²Ð½Ð¸Ð²Ð°Ñ‚ÑŒ ÐºÐ°Ñ€Ñ‚Ñ‹ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ: m1 == m2 â€” Ð¾ÑˆÐ¸Ð±ÐºÐ°
    
    // Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ reflect.DeepEqual
    fmt.Println("m1 == m2:", reflect.DeepEqual(m1, m2))  // true
    fmt.Println("m1 == m3:", reflect.DeepEqual(m1, m3))  // false
    
    // Ð˜Ð»Ð¸ ÑÐ²Ð¾Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ
    equal := func(a, b map[string]int) bool {
        if len(a) != len(b) {
            return false
        }
        for k, v := range a {
            if bv, ok := b[k]; !ok || bv != v {
                return false
            }
        }
        return true
    }
    
    fmt.Println("equal(m1, m2):", equal(m1, m2))
}
```

### Ð“Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ…

```go
package main

import "fmt"

type Person struct {
    Name string
    Age  int
    City string
}

func main() {
    people := []Person{
        {"Tom", 30, "Moscow"},
        {"Alice", 25, "SPb"},
        {"Bob", 35, "Moscow"},
        {"Kate", 28, "SPb"},
        {"John", 32, "Moscow"},
    }
    
    // Ð“Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²ÐºÐ° Ð¿Ð¾ Ð³Ð¾Ñ€Ð¾Ð´Ñƒ
    byCity := make(map[string][]Person)
    for _, p := range people {
        byCity[p.City] = append(byCity[p.City], p)
    }
    
    fmt.Println("Ð›ÑŽÐ´Ð¸ Ð¿Ð¾ Ð³Ð¾Ñ€Ð¾Ð´Ð°Ð¼:")
    for city, persons := range byCity {
        fmt.Printf("\n%s:\n", city)
        for _, p := range persons {
            fmt.Printf("  - %s (%d Ð»ÐµÑ‚)\n", p.Name, p.Age)
        }
    }
}
```

---

## âš ï¸ Ð§Ð°ÑÑ‚Ñ‹Ðµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸

### 1. Ð—Ð°Ð¿Ð¸ÑÑŒ Ð² nil ÐºÐ°Ñ€Ñ‚Ñƒ

```go
// âŒ ÐÐ•ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐž â€” panic: assignment to entry in nil map
var m map[string]int
m["key"] = 1

// âœ… ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐž â€” Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ ÐºÐ°Ñ€Ñ‚Ñƒ
m := make(map[string]int)
m["key"] = 1

// Ð¸Ð»Ð¸
m := map[string]int{}
m["key"] = 1
```

### 2. ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ñ ÐºÐ»ÑŽÑ‡Ð°

```go
m := map[string]int{"zero": 0}

// âŒ ÐÐ•ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐž â€” Ð½ÐµÐ»ÑŒÐ·Ñ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð¸Ñ‚ÑŒ "Ð½ÐµÑ‚ ÐºÐ»ÑŽÑ‡Ð°" Ð¾Ñ‚ "Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ 0"
if m["zero"] == 0 {
    // Ð­Ñ‚Ð¾ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ ÐºÐ°Ðº "ÐºÐ»ÑŽÑ‡ ÑÐ¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÐµÐ¼ 0", Ñ‚Ð°Ðº Ð¸ "ÐºÐ»ÑŽÑ‡Ð° Ð½ÐµÑ‚"
}

// âœ… ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐž
if val, ok := m["zero"]; ok {
    fmt.Println("ÐšÐ»ÑŽÑ‡ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚, Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:", val)
}
```

### 3. Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ Ð² ÐºÐ°Ñ€Ñ‚Ðµ

```go
type User struct {
    Name string
    Age  int
}

m := map[string]User{
    "tom": {Name: "Tom", Age: 30},
}

// âŒ ÐÐ•ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐž â€” cannot assign to struct field
// m["tom"].Age = 31

// âœ… ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐž â€” Ð·Ð°Ð¼ÐµÐ½ÑÐµÐ¼ Ð²ÑÑŽ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ
user := m["tom"]
user.Age = 31
m["tom"] = user

// Ð˜Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ ÑƒÐºÐ°Ð·Ð°Ñ‚ÐµÐ»Ð¸
m2 := map[string]*User{
    "tom": {Name: "Tom", Age: 30},
}
m2["tom"].Age = 31  // OK
```

### 4. ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ñ€ÑÐ´ÐºÐ° Ð¿Ñ€Ð¸ Ð¸Ñ‚ÐµÑ€Ð°Ñ†Ð¸Ð¸

```go
m := map[string]int{"a": 1, "b": 2, "c": 3}

// âŒ ÐÐ•ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐž â€” Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ð¹!
for k, v := range m {
    fmt.Println(k, v)  // Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð»ÑŽÐ±Ð¾Ð¹ Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº
}

// âœ… ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐž â€” ÑÐ¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÐ¼ ÐºÐ»ÑŽÑ‡Ð¸
import "sort"

keys := make([]string, 0, len(m))
for k := range m {
    keys = append(keys, k)
}
sort.Strings(keys)

for _, k := range keys {
    fmt.Println(k, m[k])  // a:1, b:2, c:3
}
```

### 5. ÐšÐ¾Ð½ÐºÑƒÑ€ÐµÐ½Ñ‚Ð½Ñ‹Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð±ÐµÐ· ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸

```go
// âŒ ÐžÐŸÐÐ¡ÐÐž â€” Ð³Ð¾Ð½ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ…
m := make(map[string]int)
go func() { m["a"] = 1 }()
go func() { m["b"] = 2 }()

// âœ… ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐž â€” Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ sync.Map Ð¸Ð»Ð¸ Ð¼ÑŒÑŽÑ‚ÐµÐºÑ
import "sync"

var mu sync.Mutex
m := make(map[string]int)

go func() {
    mu.Lock()
    m["a"] = 1
    mu.Unlock()
}()
```

### 6. ÐšÐ»ÑŽÑ‡ â€” Ð½ÐµÑÑ€Ð°Ð²Ð½Ð¸Ð¼Ñ‹Ð¹ Ñ‚Ð¸Ð¿

```go
// âŒ ÐÐ•ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐž â€” ÑÑ€ÐµÐ·Ñ‹ Ð½ÐµÐ»ÑŒÐ·Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ°Ðº ÐºÐ»ÑŽÑ‡Ð¸
// m := make(map[[]int]string)  // Ð¾ÑˆÐ¸Ð±ÐºÐ° ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸Ð¸

// âœ… ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐž â€” Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð¼Ð°ÑÑÐ¸Ð²Ñ‹ Ð¸Ð»Ð¸ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·ÑƒÐµÐ¼ Ð² ÑÑ‚Ñ€Ð¾ÐºÑƒ
m := make(map[[3]int]string)  // Ð¼Ð°ÑÑÐ¸Ð² Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¹ Ð´Ð»Ð¸Ð½Ñ‹ OK
m[[3]int{1, 2, 3}] = "value"

// Ð˜Ð»Ð¸ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·ÑƒÐµÐ¼ ÑÑ€ÐµÐ· Ð² ÑÑ‚Ñ€Ð¾ÐºÑƒ
import "fmt"
key := fmt.Sprint([]int{1, 2, 3})  // "[1 2 3]"
m2 := make(map[string]string)
m2[key] = "value"
```

---

## ðŸ“ ÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ°

### Ð—Ð°Ð´Ð°Ñ‡Ð° 1: Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½Ð½Ð°Ñ ÐºÐ½Ð¸Ð³Ð°
Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÐºÐ°Ñ€Ñ‚Ñƒ `map[string]string` Ð´Ð»Ñ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð¸Ð¼Ñ‘Ð½ Ð¸ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð¾Ð². Ð ÐµÐ°Ð»Ð¸Ð·ÑƒÐ¹Ñ‚Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ, Ð¿Ð¾Ð¸ÑÐºÐ° Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°.

### Ð—Ð°Ð´Ð°Ñ‡Ð° 2: ÐŸÐ¾Ð´ÑÑ‡Ñ‘Ñ‚ ÑÐ»Ð¾Ð²
ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ `WordCount(text string) map[string]int`, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÑŽÑ‰ÑƒÑŽ Ñ‡Ð°ÑÑ‚Ð¾Ñ‚Ñƒ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÑÐ»Ð¾Ð²Ð° Ð² Ñ‚ÐµÐºÑÑ‚Ðµ.

### Ð—Ð°Ð´Ð°Ñ‡Ð° 3: Ð˜Ð½Ð²ÐµÑ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹
ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ `Invert(m map[string]int) map[int]string`, Ð¼ÐµÐ½ÑÑŽÑ‰ÑƒÑŽ Ð¼ÐµÑÑ‚Ð°Ð¼Ð¸ ÐºÐ»ÑŽÑ‡Ð¸ Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ.

### Ð—Ð°Ð´Ð°Ñ‡Ð° 4: ÐžÐ±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ ÐºÐ°Ñ€Ñ‚
ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ `Merge(maps ...map[string]int) map[string]int`, Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÑÑŽÑ‰ÑƒÑŽ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ ÐºÐ°Ñ€Ñ‚ Ð² Ð¾Ð´Ð½Ñƒ.

### Ð—Ð°Ð´Ð°Ñ‡Ð° 5: ÐšÑÑˆ
Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ `Cache` Ñ Ð¼ÐµÑ‚Ð¾Ð´Ð°Ð¼Ð¸ `Set(key string, value interface{})`, `Get(key string) (interface{}, bool)`, `Delete(key string)`, `Clear()`.

### Ð—Ð°Ð´Ð°Ñ‡Ð° 6: ÐœÐ½Ð¾Ð¶ÐµÑÑ‚Ð²Ð¾
Ð ÐµÐ°Ð»Ð¸Ð·ÑƒÐ¹Ñ‚Ðµ Ñ‚Ð¸Ð¿ `Set` Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹ Ñ Ð¼ÐµÑ‚Ð¾Ð´Ð°Ð¼Ð¸ `Add(item)`, `Remove(item)`, `Contains(item) bool`, `Size() int`, `Union(other Set) Set`, `Intersection(other Set) Set`.

### Ð—Ð°Ð´Ð°Ñ‡Ð° 7: Ð“Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²ÐºÐ°
ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ `GroupBy(items []Item, keyFn func(Item) string) map[string][]Item`, Ð³Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€ÑƒÑŽÑ‰ÑƒÑŽ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¿Ð¾ ÐºÐ»ÑŽÑ‡Ñƒ.

### Ð—Ð°Ð´Ð°Ñ‡Ð° 8: LRU Cache (Ð¿Ñ€Ð¾Ð´Ð²Ð¸Ð½ÑƒÑ‚Ð°Ñ)
Ð ÐµÐ°Ð»Ð¸Ð·ÑƒÐ¹Ñ‚Ðµ LRU ÐºÑÑˆ Ñ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸ÐµÐ¼ Ð¿Ð¾ Ñ€Ð°Ð·Ð¼ÐµÑ€Ñƒ: Ð¿Ñ€Ð¸ Ð¿Ñ€ÐµÐ²Ñ‹ÑˆÐµÐ½Ð¸Ð¸ ÑƒÐ´Ð°Ð»ÑÐµÑ‚ÑÑ Ð½Ð°Ð¸Ð¼ÐµÐ½ÐµÐµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚.

### Ð—Ð°Ð´Ð°Ñ‡Ð° 9: Ð“Ñ€Ð°Ñ„
ÐŸÑ€ÐµÐ´ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð³Ñ€Ð°Ñ„ ÐºÐ°Ðº `map[string][]string` (Ð²ÐµÑ€ÑˆÐ¸Ð½Ð° -> ÑÐ¿Ð¸ÑÐ¾Ðº ÑÐ¾ÑÐµÐ´ÐµÐ¹). Ð ÐµÐ°Ð»Ð¸Ð·ÑƒÐ¹Ñ‚Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ñ€ÐµÐ±Ñ€Ð°, Ð¿Ð¾Ð¸ÑÐºÐ° ÑÐ¾ÑÐµÐ´ÐµÐ¹, Ð¾Ð±Ñ…Ð¾Ð´Ð° Ð² ÑˆÐ¸Ñ€Ð¸Ð½Ñƒ (BFS).

### Ð—Ð°Ð´Ð°Ñ‡Ð° 10: ÐœÐ½Ð¾Ð³Ð¾ÑÐ·Ñ‹Ñ‡Ð½Ñ‹Ð¹ ÑÐ»Ð¾Ð²Ð°Ñ€ÑŒ
Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Ð´Ð»Ñ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð¾Ð² ÑÐ»Ð¾Ð² Ð½Ð° Ñ€Ð°Ð·Ð½Ñ‹Ðµ ÑÐ·Ñ‹ÐºÐ¸. ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: "hello" -> {"ru": "Ð¿Ñ€Ð¸Ð²ÐµÑ‚", "de": "hallo", "es": "hola"}.
