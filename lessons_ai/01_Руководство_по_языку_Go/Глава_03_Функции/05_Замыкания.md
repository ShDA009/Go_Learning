# ะะฐะผัะบะฐะฝะธั (Closures)

---

## ๐ก ะะปััะตะฒัะต ะธะดะตะธ

- **ะะฐะผัะบะฐะฝะธะต** โ ััะฝะบัะธั + ะทะฐัะฒะฐัะตะฝะฝะพะต ะพะบััะถะตะฝะธะต (ะฟะตัะตะผะตะฝะฝัะต ะธะท ะฒะฝะตัะฝะตะน ะพะฑะปะฐััะธ)
- ะะฐะผัะบะฐะฝะธะต "ะฟะพะผะฝะธั" ะฟะตัะตะผะตะฝะฝัะต ะดะฐะถะต ะฟะพัะปะต ะฒััะพะดะฐ ะธะท ะฒะฝะตัะฝะตะน ััะฝะบัะธะธ
- ะะฐะถะดัะน ะฒัะทะพะฒ ะฒะฝะตัะฝะตะน ััะฝะบัะธะธ ัะพะทะดะฐัั **ะฝะพะฒะพะต ะฝะตะทะฐะฒะธัะธะผะพะต ะทะฐะผัะบะฐะฝะธะต**
- ะะฐะผัะบะฐะฝะธั ะฟะพะทะฒะพะปััั ัะพะทะดะฐะฒะฐัั **ะฟัะธะฒะฐัะฝะพะต ัะพััะพัะฝะธะต**
- ะัะฝะพะฒะฐ ะดะปั: ะณะตะฝะตัะฐัะพัะพะฒ, ัะฐะฑัะธะบ, middleware, ะผะตะผะพะธะทะฐัะธะธ

### ะกัััะบัััะฐ ะทะฐะผัะบะฐะฝะธั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะฝะตัะฝัั ััะฝะบัะธั                     โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ โ ะะพะบะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต            โ โ  โ ะะตะบัะธัะตัะบะพะต ะพะบััะถะตะฝะธะต
โ โ (ะทะฐัะฒะฐัะตะฝะฝะพะต ัะพััะพัะฝะธะต)         โ โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ โ ะะฝัััะตะฝะฝัั (ะฒะพะทะฒัะฐัะฐะตะผะฐั)       โ โ
โ โ ััะฝะบัะธั                         โ โ  โ ะะฐะผัะบะฐะฝะธะต
โ โ (ะธะผะตะตั ะดะพัััะฟ ะบ ะฟะตัะตะผะตะฝะฝัะผ)     โ โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ะขะตะพัะธั

### ะงัะพ ัะฐะบะพะต ะทะฐะผัะบะฐะฝะธะต?

**ะะฐะผัะบะฐะฝะธะต (closure)** โ ััะพ ััะฝะบัะธั ะฒะผะตััะต ั ะตั ะปะตะบัะธัะตัะบะธะผ ะพะบััะถะตะฝะธะตะผ. ะัะพัะต ะณะพะฒะพัั, ััะฝะบัะธั "ะทะฐะฟะพะผะธะฝะฐะตั" ะฟะตัะตะผะตะฝะฝัะต ะธะท ะผะตััะฐ, ะณะดะต ะฑัะปะฐ ัะพะทะดะฐะฝะฐ.

```go
func counter() func() int {
    count := 0  // ััะฐ ะฟะตัะตะผะตะฝะฝะฐั "ะทะฐัะฒะฐัะตะฝะฐ"
    return func() int {
        count++  // ััะฝะบัะธั ะฟะพะผะฝะธั count
        return count
    }
}

c := counter()
c()  // 1
c()  // 2
c()  // 3
```

ะะตัะตะผะตะฝะฝะฐั `count` ะฟัะพะดะพะปะถะฐะตั ัััะตััะฒะพะฒะฐัั, ัะพัั ััะฝะบัะธั `counter()` ัะถะต ะทะฐะฒะตััะธะปะฐัั!

### ะะพัะตะผั ััะพ ัะฐะฑะพัะฐะตั?

ะะฑััะฝะพ ะปะพะบะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต "ัะผะธัะฐัั" ะฟะพัะปะต ะฒััะพะดะฐ ะธะท ััะฝะบัะธะธ. ะะพ ะตัะปะธ ะฝะฐ ะฝะธั ะตััั ัััะปะบะฐ ะธะท ะฒะพะทะฒัะฐัะฐะตะผะพะน ััะฝะบัะธะธ, Go ัะพััะฐะฝัะตั ะธั ะฒ ะบััะต (heap).

### ะะฐะถะดัะน ะฒัะทะพะฒ โ ะฝะพะฒะพะต ะทะฐะผัะบะฐะฝะธะต

```go
c1 := counter()
c2 := counter()

c1()  // 1
c1()  // 2
c2()  // 1 (ะฝะตะทะฐะฒะธัะธะผัะน ัััััะธะบ!)
c2()  // 2
c1()  // 3
```

`c1` ะธ `c2` โ ะดะฒะฐ ะฝะตะทะฐะฒะธัะธะผัั ะทะฐะผัะบะฐะฝะธั, ะบะฐะถะดะพะต ัะพ ัะฒะพะตะน ะบะพะฟะธะตะน `count`.

### ะัะฐะบัะธัะตัะบะธะต ะฟัะธะผะตะฝะตะฝะธั

**1. ะกััััะธะบะธ ะธ ะณะตะฝะตัะฐัะพัั:**
```go
func idGenerator() func() int {
    id := 0
    return func() int {
        id++
        return id
    }
}
```

**2. ะคะฐะฑัะธะบะฐ ััะฝะบัะธะน:**
```go
func makeAdder(x int) func(int) int {
    return func(y int) int {
        return x + y
    }
}
add5 := makeAdder(5)
add10 := makeAdder(10)
```

**3. ะัะธะฒะฐัะฝะพะต ัะพััะพัะฝะธะต (ะธะฝะบะฐะฟััะปััะธั):**
```go
func newStack() (func(int), func() int) {
    var stack []int
    
    push := func(x int) {
        stack = append(stack, x)
    }
    
    pop := func() int {
        n := stack[len(stack)-1]
        stack = stack[:len(stack)-1]
        return n
    }
    
    return push, pop
}
// stack ะฝะตะดะพัััะฟะตะฝ ะธะทะฒะฝะต, ัะพะปัะบะพ ัะตัะตะท push/pop
```

**4. Middleware:**
```go
func withAuth(next http.HandlerFunc) http.HandlerFunc {
    return func(w http.ResponseWriter, r *http.Request) {
        if !isAuthenticated(r) {
            http.Error(w, "Unauthorized", 401)
            return
        }
        next(w, r)
    }
}
```

### ะะพะฒััะบะฐ: ะทะฐัะฒะฐั ะฟะตัะตะผะตะฝะฝะพะน ัะธะบะปะฐ

```go
for i := 0; i < 3; i++ {
    go func() {
        fmt.Println(i)  // ัะบะพัะตะต ะฒัะตะณะพ ะฒัะฒะตะดะตั 3, 3, 3
    }()
}
```

ะัะต ะณะพัััะธะฝั ะทะฐัะฒะฐััะฒะฐัั **ะพะดะฝั ะธ ัั ะถะต** ะฟะตัะตะผะตะฝะฝัั `i`, ะบะพัะพัะฐั ะบ ะผะพะผะตะฝัั ะฒัะฟะพะปะฝะตะฝะธั ัะถะต ัะฐะฒะฝะฐ 3.

**ะะตัะตะฝะธะต 1:** ะะพะบะฐะปัะฝะฐั ะบะพะฟะธั
```go
for i := 0; i < 3; i++ {
    i := i  // ัะพะทะดะฐัะผ ะฝะพะฒัั ะฟะตัะตะผะตะฝะฝัั
    go func() {
        fmt.Println(i)
    }()
}
```

**ะะตัะตะฝะธะต 2:** ะะฐัะฐะผะตัั ััะฝะบัะธะธ
```go
for i := 0; i < 3; i++ {
    go func(n int) {
        fmt.Println(n)
    }(i)  // ะฟะตัะตะดะฐัะผ i ะบะฐะบ ะฐัะณัะผะตะฝั
}
```

---

## ๐ ะกะธะฝัะฐะบัะธั

### ะะฐะทะพะฒะพะต ะทะฐะผัะบะฐะฝะธะต
```go
func outer() func() {
    variable := value  // ะทะฐัะฒะฐัะตะฝะฝะฐั ะฟะตัะตะผะตะฝะฝะฐั
    
    return func() {
        // ะดะพัััะฟ ะบ variable
    }
}
```

### ะะฐะผัะบะฐะฝะธะต ั ะฟะฐัะฐะผะตััะพะผ
```go
func makeAdder(n int) func(int) int {
    return func(x int) int {
        return x + n  // n ะทะฐัะฒะฐัะตะฝะฐ
    }
}
```

### ะะฐะผัะบะฐะฝะธะต ั ะผััะฐะฑะตะปัะฝัะผ ัะพััะพัะฝะธะตะผ
```go
func counter() func() int {
    count := 0
    return func() int {
        count++  // ะธะทะผะตะฝัะตะผ ะทะฐัะฒะฐัะตะฝะฝัั ะฟะตัะตะผะตะฝะฝัั
        return count
    }
}
```

---

## ๐ป ะัะธะผะตัั ะบะพะดะฐ

### ะัะธะผะตั 1: ะัะพััะพะต ะทะฐะผัะบะฐะฝะธะต
```go
package main

import "fmt"

func outer() func() {
    message := "ะัะธะฒะตั ะธะท ะทะฐะผัะบะฐะฝะธั!"
    
    return func() {
        fmt.Println(message)  // message ะทะฐัะฒะฐัะตะฝะฐ
    }
}

func main() {
    fn := outer()
    fn()  // ะัะธะฒะตั ะธะท ะทะฐะผัะบะฐะฝะธั!
    fn()  // ะัะธะฒะตั ะธะท ะทะฐะผัะบะฐะฝะธั!
}
```

### ะัะธะผะตั 2: ะกััััะธะบ (ะบะปะฐััะธัะตัะบะธะน ะฟัะธะผะตั)
```go
package main

import "fmt"

func makeCounter() func() int {
    count := 0  // ะฟัะธะฒะฐัะฝะพะต ัะพััะพัะฝะธะต
    
    return func() int {
        count++
        return count
    }
}

func main() {
    // ะะฐะถะดัะน ะฒัะทะพะฒ makeCounter ัะพะทะดะฐัั ะฝะพะฒะพะต ะฝะตะทะฐะฒะธัะธะผะพะต ัะพััะพัะฝะธะต
    counter1 := makeCounter()
    counter2 := makeCounter()
    
    fmt.Println("Counter1:", counter1())  // 1
    fmt.Println("Counter1:", counter1())  // 2
    fmt.Println("Counter1:", counter1())  // 3
    
    fmt.Println("Counter2:", counter2())  // 1 (ะฝะตะทะฐะฒะธัะธะผัะน!)
    fmt.Println("Counter2:", counter2())  // 2
    
    fmt.Println("Counter1:", counter1())  // 4
}
```

### ะัะธะผะตั 3: ะะตะฝะตัะฐัะพั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััะธ
```go
package main

import "fmt"

func fibonacci() func() int {
    a, b := 0, 1
    
    return func() int {
        result := a
        a, b = b, a+b
        return result
    }
}

func powers(base int) func() int {
    current := 1
    
    return func() int {
        result := current
        current *= base
        return result
    }
}

func main() {
    fib := fibonacci()
    fmt.Print("ะคะธะฑะพะฝะฐััะธ: ")
    for i := 0; i < 10; i++ {
        fmt.Print(fib(), " ")
    }
    fmt.Println()
    
    pow2 := powers(2)
    fmt.Print("ะกัะตะฟะตะฝะธ 2: ")
    for i := 0; i < 8; i++ {
        fmt.Print(pow2(), " ")
    }
    fmt.Println()
}
```

### ะัะธะผะตั 4: ะคะฐะฑัะธะบะฐ ััะฝะบัะธะน ั ะทะฐัะฒะฐัะพะผ ะฟะฐัะฐะผะตััะฐ
```go
package main

import "fmt"

func multiplier(factor int) func(int) int {
    return func(x int) int {
        return x * factor  // factor ะทะฐัะฒะฐัะตะฝ
    }
}

func greeter(prefix string) func(string) string {
    return func(name string) string {
        return prefix + ", " + name + "!"
    }
}

func main() {
    double := multiplier(2)
    triple := multiplier(3)
    half := multiplier(0)  // ะฝั, ะฟะพััะธ ะฟะพะปะพะฒะธะฝะฐ :)
    
    fmt.Println("double(5) =", double(5))  // 10
    fmt.Println("triple(5) =", triple(5))  // 15
    
    hello := greeter("ะัะธะฒะตั")
    goodbye := greeter("ะะพ ัะฒะธะดะฐะฝะธั")
    
    fmt.Println(hello("ะะฝะฝะฐ"))    // ะัะธะฒะตั, ะะฝะฝะฐ!
    fmt.Println(goodbye("ะะพัะธั")) // ะะพ ัะฒะธะดะฐะฝะธั, ะะพัะธั!
}
```

### ะัะธะผะตั 5: ะะบะบัะผัะปััะพั
```go
package main

import "fmt"

func makeAccumulator(initial int) (func(int) int, func() int) {
    sum := initial
    
    add := func(n int) int {
        sum += n
        return sum
    }
    
    get := func() int {
        return sum
    }
    
    return add, get
}

func main() {
    add, get := makeAccumulator(0)
    
    fmt.Println("ะะฐัะฐะปะพ:", get())  // 0
    fmt.Println("ะะพะฑะฐะฒะธะปะธ 5:", add(5))   // 5
    fmt.Println("ะะพะฑะฐะฒะธะปะธ 10:", add(10)) // 15
    fmt.Println("ะะพะฑะฐะฒะธะปะธ 3:", add(3))   // 18
    fmt.Println("ะัะพะณะพ:", get())  // 18
}
```

### ะัะธะผะตั 6: ะะตะผะพะธะทะฐัะธั (ะบััะธัะพะฒะฐะฝะธะต)
```go
package main

import "fmt"

func memoize(fn func(int) int) func(int) int {
    cache := make(map[int]int)
    
    return func(n int) int {
        if result, ok := cache[n]; ok {
            fmt.Printf("  (ะบัั ะดะปั %d)\n", n)
            return result
        }
        result := fn(n)
        cache[n] = result
        return result
    }
}

func slowSquare(n int) int {
    fmt.Printf("  ะฒััะธัะปัะตะผ %dยฒ...\n", n)
    return n * n
}

func main() {
    cachedSquare := memoize(slowSquare)
    
    fmt.Println("square(5) =", cachedSquare(5))
    fmt.Println("square(3) =", cachedSquare(3))
    fmt.Println("square(5) =", cachedSquare(5))  // ะธะท ะบััะฐ
    fmt.Println("square(3) =", cachedSquare(3))  // ะธะท ะบััะฐ
    fmt.Println("square(7) =", cachedSquare(7))
}
```

### ะัะธะผะตั 7: Middleware / ะะตะบะพัะฐัะพัั
```go
package main

import (
    "fmt"
    "time"
)

type Operation func(int, int) int

func withLogging(name string, op Operation) Operation {
    return func(a, b int) int {
        fmt.Printf("[LOG] %s(%d, %d) ะฒัะทะฒะฐะฝะฐ\n", name, a, b)
        result := op(a, b)
        fmt.Printf("[LOG] %s ะฒะตัะฝัะปะฐ %d\n", name, result)
        return result
    }
}

func withTiming(op Operation) Operation {
    return func(a, b int) int {
        start := time.Now()
        result := op(a, b)
        fmt.Printf("[TIME] ะัะฟะพะปะฝะตะฝะพ ะทะฐ %v\n", time.Since(start))
        return result
    }
}

func add(a, b int) int { return a + b }

func main() {
    // ะะฑะพัะฐัะธะฒะฐะตะผ ััะฝะบัะธั
    loggedAdd := withLogging("add", add)
    result := loggedAdd(5, 3)
    fmt.Println("ะะตะทัะปััะฐั:", result)
    
    fmt.Println()
    
    // ะะพะผะฑะธะฝะธััะตะผ ะดะตะบะพัะฐัะพัั
    timedLoggedAdd := withTiming(withLogging("add", add))
    timedLoggedAdd(10, 20)
}
```

### ะัะธะผะตั 8: ะกะพััะพัะฝะธะต ะพะฑัะตะบัะฐ ัะตัะตะท ะทะฐะผัะบะฐะฝะธั
```go
package main

import "fmt"

type Stack struct {
    Push func(int)
    Pop  func() (int, bool)
    Peek func() (int, bool)
    Size func() int
}

func NewStack() Stack {
    data := []int{}  // ะฟัะธะฒะฐัะฝะพะต ัะพััะพัะฝะธะต
    
    return Stack{
        Push: func(val int) {
            data = append(data, val)
        },
        Pop: func() (int, bool) {
            if len(data) == 0 {
                return 0, false
            }
            val := data[len(data)-1]
            data = data[:len(data)-1]
            return val, true
        },
        Peek: func() (int, bool) {
            if len(data) == 0 {
                return 0, false
            }
            return data[len(data)-1], true
        },
        Size: func() int {
            return len(data)
        },
    }
}

func main() {
    stack := NewStack()
    
    stack.Push(1)
    stack.Push(2)
    stack.Push(3)
    
    fmt.Println("ะะฐะทะผะตั:", stack.Size())  // 3
    
    if val, ok := stack.Peek(); ok {
        fmt.Println("ะะตััะธะฝะฐ:", val)  // 3
    }
    
    for stack.Size() > 0 {
        val, _ := stack.Pop()
        fmt.Println("Pop:", val)
    }
}
```

---

## โ๏ธ ะงะฐัััะต ะพัะธะฑะบะธ

### 1. ะะฐัะฒะฐั ะฟะตัะตะผะตะฝะฝะพะน ัะธะบะปะฐ
```go
// โ ะะตะฟัะฐะฒะธะปัะฝะพ โ ะฒัะต ััะฝะบัะธะธ ะฒะธะดัั ะฟะพัะปะตะดะฝะตะต ะทะฝะฐัะตะฝะธะต i
funcs := []func(){}
for i := 0; i < 3; i++ {
    funcs = append(funcs, func() {
        fmt.Println(i)  // ะฒัะต ะฒัะฒะตะดัั 3!
    })
}
for _, f := range funcs {
    f()  // 3, 3, 3
}

// โ ะัะฐะฒะธะปัะฝะพ โ ัะพะทะดะฐัะผ ะบะพะฟะธั
funcs := []func(){}
for i := 0; i < 3; i++ {
    i := i  // ัะพะทะดะฐัะผ ะฝะพะฒัั ะฟะตัะตะผะตะฝะฝัั
    funcs = append(funcs, func() {
        fmt.Println(i)
    })
}
for _, f := range funcs {
    f()  // 0, 1, 2
}
```

### 2. ะะตะฟะพะฝะธะผะฐะฝะธะต ะฒัะตะผะตะฝะธ ะทะฐัะฒะฐัะฐ
```go
// โ๏ธ ะััะพัะพะถะฝะพ โ ะทะฐะผัะบะฐะฝะธะต ะฒะธะดะธั ะขะะะฃะฉะะ ะทะฝะฐัะตะฝะธะต
x := 10
fn := func() { fmt.Println(x) }

x = 20
fn()  // ะัะฒะตะดะตั 20, ะฝะต 10!

// ะัะปะธ ะฝัะถะฝะพ "ะทะฐะผะพัะพะทะธัั" ะทะฝะฐัะตะฝะธะต:
x := 10
fn := func(val int) func() {
    return func() { fmt.Println(val) }
}(x)

x = 20
fn()  // ะัะฒะตะดะตั 10
```

### 3. ะฃัะตัะบะฐ ะฟะฐะผััะธ ัะตัะตะท ะทะฐะผัะบะฐะฝะธั
```go
// โ๏ธ ะััะพัะพะถะฝะพ โ ะฑะพะปััะธะต ะดะฐะฝะฝัะต ะพััะฐัััั ะฒ ะฟะฐะผััะธ
func createLeak() func() int {
    hugeData := make([]byte, 100*1024*1024)  // 100 MB
    small := len(hugeData)
    
    return func() int {
        return small  // hugeData ะฒัั ะตัั ะฒ ะฟะฐะผััะธ!
    }
}

// โ ะัััะต โ ัะฒะฝะพ ะพะฑะฝัะปัะตะผ ะฝะตะฝัะถะฝัะต ะดะฐะฝะฝัะต
func noLeak() func() int {
    hugeData := make([]byte, 100*1024*1024)
    small := len(hugeData)
    hugeData = nil  // ะพัะฒะพะฑะพะถะดะฐะตะผ ะฟะฐะผััั
    
    return func() int {
        return small
    }
}
```

---

## ๐ ะะพะปะตะทะฝัะต ัััะปะบะธ

- [A Tour of Go โ Function closures](https://go.dev/tour/moretypes/25)
- [Go by Example โ Closures](https://gobyexample.com/closures)
- [Effective Go โ Functions](https://go.dev/doc/effective_go#functions)

---

## ๐๏ธ ะัะฐะบัะธัะตัะบะธะต ะทะฐะดะฐะฝะธั

### ะะฐะดะฐะฝะธะต 1: ะัะพััะพะต ะทะฐะผัะบะฐะฝะธะต-ัััััะธะบ

ะกะพะทะดะฐะนัะต ััะฝะบัะธั `counter()`, ะบะพัะพัะฐั ะฒะพะทะฒัะฐัะฐะตั ััะฝะบัะธั-ัััััะธะบ. ะะฐะถะดัะน ะฒัะทะพะฒ ัะฒะตะปะธัะธะฒะฐะตั ัััััะธะบ ะฝะฐ 1.

**ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:**
```
ะกััััะธะบ:
ะัะทะพะฒ 1: 1
ะัะทะพะฒ 2: 2
ะัะทะพะฒ 3: 3
```

**ะัะธัะตัะธะธ ะฟัะธัะผะบะธ:**
- counter() ะฒะพะทะฒัะฐัะฐะตั func() int
- ะะฝัััะตะฝะฝัั ะฟะตัะตะผะตะฝะฝะฐั ัะพััะฐะฝัะตััั ะผะตะถะดั ะฒัะทะพะฒะฐะผะธ
- ะะฐะถะดัะน ะฒัะทะพะฒ ัะฒะตะปะธัะธะฒะฐะตั ะทะฝะฐัะตะฝะธะต ะฝะฐ 1
- ะะฐัะฐะปัะฝะพะต ะทะฝะฐัะตะฝะธะต 0

**ะะพะดัะบะฐะทะบะธ:**
- ะะฐะผัะบะฐะฝะธะต "ะทะฐัะฒะฐััะฒะฐะตั" ะฟะตัะตะผะตะฝะฝัะต ะธะท ะฒะฝะตัะฝะตะน ะพะฑะปะฐััะธ
- `count := 0; return func() int { count++; return count }`

**ะะฐัะฐะปัะฝัะน ะบะพะด:**
```go
package main

import "fmt"

// ะกะพะทะดะฐะนัะต ััะฝะบัะธั counter

func main() {
    fmt.Println("ะกััััะธะบ:")
    // ะกะพะทะดะฐะนัะต ะธ ะธัะฟะพะปัะทัะนัะต ัััััะธะบ
}
```

**ะะถะธะดะฐะตะผัะน ะฒัะฒะพะด:**
```
ะกััััะธะบ:
ะัะทะพะฒ 1: 1
ะัะทะพะฒ 2: 2
ะัะทะพะฒ 3: 3
```

**ะะฐะปะปั:** 15

### ะะฐะดะฐะฝะธะต 2: ะะฐะผัะบะฐะฝะธะต ั ะฝะฐัะฐะปัะฝัะผ ะทะฝะฐัะตะฝะธะตะผ

ะกะพะทะดะฐะนัะต ััะฝะบัะธั `adder(start int)`, ะฒะพะทะฒัะฐัะฐัััั ััะฝะบัะธั, ะบะพัะพัะฐั ะฟัะธะฑะฐะฒะปัะตั ะบ ะฝะฐะบะพะฟะปะตะฝะฝะพะน ััะผะผะต.

**ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:**
```
ะะบะบัะผัะปััะพั ั ะฝะฐัะฐะปัะฝัะผ ะทะฝะฐัะตะฝะธะตะผ 10:
ะะพะฑะฐะฒะธัั 5: 15
ะะพะฑะฐะฒะธัั 3: 18
ะะพะฑะฐะฒะธัั 7: 25
```

**ะัะธัะตัะธะธ ะฟัะธัะผะบะธ:**
- adder ะฟัะธะฝะธะผะฐะตั ะฝะฐัะฐะปัะฝะพะต ะทะฝะฐัะตะฝะธะต
- ะะพะทะฒัะฐัะฐะตะผะฐั ััะฝะบัะธั ะฟัะธะฝะธะผะฐะตั ัะธัะปะพ ะดะปั ะดะพะฑะฐะฒะปะตะฝะธั
- ะกัะผะผะฐ ะฝะฐะบะฐะฟะปะธะฒะฐะตััั ะผะตะถะดั ะฒัะทะพะฒะฐะผะธ
- ะะตะทัะปััะฐัั: 15, 18, 25

**ะะพะดัะบะฐะทะบะธ:**
- ะะฐัะฐะปัะฝะพะต ะทะฝะฐัะตะฝะธะต ััะฐะฝะพะฒะธััั ัะฐัััั ะทะฐะผัะบะฐะฝะธั
- `sum := start; return func(n int) int { sum += n; return sum }`

**ะะฐัะฐะปัะฝัะน ะบะพะด:**
```go
package main

import "fmt"

// ะกะพะทะดะฐะนัะต ััะฝะบัะธั adder

func main() {
    fmt.Println("ะะบะบัะผัะปััะพั ั ะฝะฐัะฐะปัะฝัะผ ะทะฝะฐัะตะฝะธะตะผ 10:")
    // ะกะพะทะดะฐะนัะต ะธ ะธัะฟะพะปัะทัะนัะต ะฐะบะบัะผัะปััะพั
}
```

**ะะถะธะดะฐะตะผัะน ะฒัะฒะพะด:**
```
ะะบะบัะผัะปััะพั ั ะฝะฐัะฐะปัะฝัะผ ะทะฝะฐัะตะฝะธะตะผ 10:
ะะพะฑะฐะฒะธัั 5: 15
ะะพะฑะฐะฒะธัั 3: 18
ะะพะฑะฐะฒะธัั 7: 25
```

**ะะฐะปะปั:** 15

### ะะฐะดะฐะฝะธะต 3: ะะตะทะฐะฒะธัะธะผัะต ะทะฐะผัะบะฐะฝะธั

ะะพะบะฐะถะธัะต, ััะพ ะบะฐะถะดัะน ะฒัะทะพะฒ counter() ัะพะทะดะฐัั ะฝะตะทะฐะฒะธัะธะผัะน ัััััะธะบ.

**ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:**
```
ะะฒะฐ ะฝะตะทะฐะฒะธัะธะผัั ัััััะธะบะฐ:
c1: 1, c2: 1
c1: 2, c2: 2
c1: 3, c2: 3
c1: 4, c2: 3 (c2 ะฝะต ะฒัะทะฒะฐะฝ)
```

**ะัะธัะตัะธะธ ะฟัะธัะผะบะธ:**
- ะกะพะทะดะฐะฝะพ ะดะฒะฐ ะฝะตะทะฐะฒะธัะธะผัั ัััััะธะบะฐ
- ะะฐะถะดัะน ะธะผะตะตั ัะฒะพั ัะพััะพัะฝะธะต
- ะะพัะปะตะดะฝะธะน c1 ะฒัะทะฒะฐะฝ, c2 โ ะฝะตั
- ะะฝะฐัะตะฝะธั: c1=4, c2=3

**ะะพะดัะบะฐะทะบะธ:**
- ะะฐะถะดัะน ะฒัะทะพะฒ counter() ัะพะทะดะฐัั ะฝะพะฒะพะต ะทะฐะผัะบะฐะฝะธะต
- ะกััััะธะบะธ ะฝะต ะฒะปะธััั ะดััะณ ะฝะฐ ะดััะณะฐ

**ะะฐัะฐะปัะฝัะน ะบะพะด:**
```go
package main

import "fmt"

func counter() func() int {
    n := 0
    return func() int {
        n++
        return n
    }
}

func main() {
    fmt.Println("ะะฒะฐ ะฝะตะทะฐะฒะธัะธะผัั ัััััะธะบะฐ:")
    // ะกะพะทะดะฐะนัะต c1 ะธ c2, ะฟะพะบะฐะถะธัะต ะฝะตะทะฐะฒะธัะธะผะพััั
}
```

**ะะถะธะดะฐะตะผัะน ะฒัะฒะพะด:**
```
ะะฒะฐ ะฝะตะทะฐะฒะธัะธะผัั ัััััะธะบะฐ:
c1: 1, c2: 1
c1: 2, c2: 2
c1: 3, c2: 3
c1: 4, c2: 3 (c2 ะฝะต ะฒัะทะฒะฐะฝ)
```

**ะะฐะปะปั:** 15

### ะะฐะดะฐะฝะธะต 4: ะะฐะผัะบะฐะฝะธะต ะบะฐะบ ัะธะปััั

ะกะพะทะดะฐะนัะต ััะฝะบัะธั `makeFilter(min int)`, ะฒะพะทะฒัะฐัะฐัััั ััะฝะบัะธั-ัะธะปััั, ะบะพัะพัะฐั ะฟัะพะฒะตััะตั, ะฑะพะปััะต ะปะธ ัะธัะปะพ ะผะธะฝะธะผัะผะฐ.

**ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:**
```
ะคะธะปััั: ัะธัะปะฐ > 5
ะัะพะฒะตัะบะฐ 3: false
ะัะพะฒะตัะบะฐ 5: false
ะัะพะฒะตัะบะฐ 7: true
ะัะพะฒะตัะบะฐ 10: true
```

**ะัะธัะตัะธะธ ะฟัะธัะผะบะธ:**
- makeFilter ะฟัะธะฝะธะผะฐะตั ะผะธะฝะธะผะฐะปัะฝะพะต ะทะฝะฐัะตะฝะธะต
- ะะพะทะฒัะฐัะฐะตั func(int) bool
- ะคะธะปััั ะฟัะพะฒะตััะตั n > min
- ะัะต ัะตะทัะปััะฐัั ะบะพััะตะบัะฝั

**ะะพะดัะบะฐะทะบะธ:**
- `return func(n int) bool { return n > min }`
- ะะฐะผัะบะฐะฝะธะต ะทะฐะฟะพะผะธะฝะฐะตั ะทะฝะฐัะตะฝะธะต min

**ะะฐัะฐะปัะฝัะน ะบะพะด:**
```go
package main

import "fmt"

// ะกะพะทะดะฐะนัะต ััะฝะบัะธั makeFilter

func main() {
    fmt.Println("ะคะธะปััั: ัะธัะปะฐ > 5")
    // ะกะพะทะดะฐะนัะต ัะธะปััั ะธ ะฟัะพะฒะตัััะต ัะธัะปะฐ
}
```

**ะะถะธะดะฐะตะผัะน ะฒัะฒะพะด:**
```
ะคะธะปััั: ัะธัะปะฐ > 5
ะัะพะฒะตัะบะฐ 3: false
ะัะพะฒะตัะบะฐ 5: false
ะัะพะฒะตัะบะฐ 7: true
ะัะพะฒะตัะบะฐ 10: true
```

**ะะฐะปะปั:** 20

### ะะฐะดะฐะฝะธะต 5: ะะฐะผัะบะฐะฝะธะต ั ะบะตัะธัะพะฒะฐะฝะธะตะผ

ะกะพะทะดะฐะนัะต ััะฝะบัะธั `memoFactorial()`, ะบะพัะพัะฐั ะฒะพะทะฒัะฐัะฐะตั ััะฝะบัะธั ะฒััะธัะปะตะฝะธั ัะฐะบัะพัะธะฐะปะฐ ั ะบะตัะธัะพะฒะฐะฝะธะตะผ ัะตะทัะปััะฐัะพะฒ.

**ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:**
```
ะคะฐะบัะพัะธะฐะป ั ะบะตัะตะผ:
5! = 120 (ะฒััะธัะปะตะฝะพ)
5! = 120 (ะธะท ะบะตัะฐ)
3! = 6 (ะธะท ะบะตัะฐ, ัะฐััั ะฟัะตะดัะดััะตะณะพ)
7! = 5040 (ะฒััะธัะปะตะฝะพ)
```

**ะัะธัะตัะธะธ ะฟัะธัะผะบะธ:**
- ะะฐะผัะบะฐะฝะธะต ััะฐะฝะธั ะบะตั ัะตะทัะปััะฐัะพะฒ (map[int]int)
- ะัะธ ะฟะพะฒัะพัะฝะพะผ ะฒัะทะพะฒะต ะฑะตััั ะธะท ะบะตัะฐ
- ะะพะบะฐะทะฐะฝะพ ัะพะพะฑัะตะฝะธะต ะพ ะธััะพัะฝะธะบะต ัะตะทัะปััะฐัะฐ
- ะคะฐะบัะพัะธะฐะปั ะบะพััะตะบัะฝั

**ะะพะดัะบะฐะทะบะธ:**
- ะัะฟะพะปัะทัะนัะต map ะดะปั ััะฐะฝะตะฝะธั ะฒััะธัะปะตะฝะฝัั ะทะฝะฐัะตะฝะธะน
- ะัะพะฒะตััะนัะต ะฝะฐะปะธัะธะต ะฒ ะบะตัะต ะฟะตัะตะด ะฒััะธัะปะตะฝะธะตะผ

**ะะฐัะฐะปัะฝัะน ะบะพะด:**
```go
package main

import "fmt"

// ะกะพะทะดะฐะนัะต memoFactorial

func main() {
    fmt.Println("ะคะฐะบัะพัะธะฐะป ั ะบะตัะตะผ:")
    // ะัะพะดะตะผะพะฝัััะธััะนัะต ะบะตัะธัะพะฒะฐะฝะธะต
}
```

**ะะถะธะดะฐะตะผัะน ะฒัะฒะพะด:**
```
ะคะฐะบัะพัะธะฐะป ั ะบะตัะตะผ:
5! = 120 (ะฒััะธัะปะตะฝะพ)
5! = 120 (ะธะท ะบะตัะฐ)
3! = 6 (ะธะท ะบะตัะฐ, ัะฐััั ะฟัะตะดัะดััะตะณะพ)
7! = 5040 (ะฒััะธัะปะตะฝะพ)
```

**ะะฐะปะปั:** 25
