# Структура программы

---

## 💡 Ключевые идеи

- Каждый файл Go **обязательно** принадлежит пакету (`package`)
- Главный пакет исполняемой программы называется `main`
- Точка входа — функция `main()` в пакете `main`
- Импорты (`import`) идут сразу после объявления пакета
- Инструкции разделяются переносом строки (точка с запятой не нужна)

### Структура файла Go

```
┌─────────────────────────────────────────┐
│  package main          ← 1. Пакет       │
├─────────────────────────────────────────┤
│  import "fmt"          ← 2. Импорты     │
├─────────────────────────────────────────┤
│  // константы, переменные, типы         │
│  var name = "Go"       ← 3. Объявления  │
│  const version = 1.22                   │
├─────────────────────────────────────────┤
│  func main() {         ← 4. Функции     │
│      fmt.Println(name)                  │
│  }                                      │
└─────────────────────────────────────────┘
```

---

## 📋 Синтаксис

### Объявление пакета
```go
package имя_пакета
```

### Импорт пакетов
```go
// Один пакет
import "fmt"

// Несколько пакетов
import (
    "fmt"
    "os"
    "strings"
)
```

### Функция main
```go
func main() {
    // код программы
}
```

### Однострочный комментарий
```go
// Это комментарий
```

### Многострочный комментарий
```go
/*
   Это многострочный
   комментарий
*/
```

---

## 💻 Примеры кода

### Пример 1: Минимальная программа
```go
package main

func main() {
    // Пустая программа — но она работает!
}
```

### Пример 2: Hello World
```go
package main

import "fmt"

func main() {
    fmt.Println("Hello, World!")
}
```

### Пример 3: Несколько инструкций
```go
package main

import "fmt"

func main() {
    fmt.Println("Строка 1")
    fmt.Println("Строка 2")
    fmt.Println("Строка 3")
}
```

### Пример 4: Несколько импортов
```go
package main

import (
    "fmt"
    "time"
)

func main() {
    fmt.Println("Сейчас:", time.Now())
}
```

### Пример 5: С комментариями
```go
/*
    Программа приветствия
    Автор: Go Developer
*/
package main

import "fmt"  // пакет для ввода-вывода

// main — точка входа в программу
func main() {
    fmt.Println("Hello!")  // выводим приветствие
}
```

### Пример 6: Несколько инструкций в строке (не рекомендуется)
```go
package main

import "fmt"

func main() {
    // Можно, но не нужно — плохая читаемость
    fmt.Print("A"); fmt.Print("B"); fmt.Println("C")
}
```

---

## ⚠️ Частые ошибки

### 1. Забыли package main
```go
// ❌ Неправильно
import "fmt"

func main() {
    fmt.Println("Hello")
}
// Ошибка: expected 'package', found 'import'

// ✅ Правильно
package main

import "fmt"

func main() {
    fmt.Println("Hello")
}
```

### 2. Пакет не называется main для исполняемой программы
```go
// ❌ Неправильно — программа не запустится как исполняемый файл
package myapp

func main() {
    // ...
}
// Ошибка: go run: cannot run non-main package

// ✅ Правильно
package main

func main() {
    // ...
}
```

### 3. Неиспользуемый импорт
```go
// ❌ Неправильно — Go не разрешает неиспользуемые импорты
package main

import (
    "fmt"
    "os"  // imported and not used
)

func main() {
    fmt.Println("Hello")
}

// ✅ Правильно — удалите неиспользуемый импорт
package main

import "fmt"

func main() {
    fmt.Println("Hello")
}
```

### 4. Импорт после кода
```go
// ❌ Неправильно
package main

func main() {}

import "fmt"  // импорт должен быть до функций

// ✅ Правильно
package main

import "fmt"

func main() {}
```

### 5. Нет функции main
```go
// ❌ Неправильно
package main

import "fmt"

func hello() {
    fmt.Println("Hello")
}
// Ошибка: function main is undeclared in the main package

// ✅ Правильно
package main

import "fmt"

func main() {
    hello()
}

func hello() {
    fmt.Println("Hello")
}
```

---

## 📝 Практика

### Задание 1: Минимальная программа
Создайте файл `minimal.go` с минимально возможной работающей программой (без вывода).

<details>
<summary>Решение</summary>

```go
package main

func main() {}
```
</details>

### Задание 2: Три строки вывода
Напишите программу, которая выводит три строки:
```
Go — это круто!
Go — это быстро!
Go — это просто!
```

<details>
<summary>Решение</summary>

```go
package main

import "fmt"

func main() {
    fmt.Println("Go — это круто!")
    fmt.Println("Go — это быстро!")
    fmt.Println("Go — это просто!")
}
```
</details>

### Задание 3: Время и дата
Используя пакет `time`, выведите текущую дату и время.

<details>
<summary>Решение</summary>

```go
package main

import (
    "fmt"
    "time"
)

func main() {
    fmt.Println("Текущее время:", time.Now())
}
```
</details>

### Задание 4: Документирование кода
Добавьте к программе Hello World:
- Многострочный комментарий с описанием программы в начале
- Однострочные комментарии к каждой значимой строке

<details>
<summary>Решение</summary>

```go
/*
    Hello World
    Классическая первая программа на Go
    Демонстрирует базовую структуру программы
*/
package main

// импортируем пакет fmt для работы с выводом
import "fmt"

// main — главная функция, точка входа
func main() {
    // выводим приветствие на консоль
    fmt.Println("Hello, World!")
}
```
</details>

### Задание 5: Исправьте ошибки
Найдите и исправьте все ошибки:
```go
Package main

import fmt

func Main() {
    fmt.Println("Hello")
}
```

<details>
<summary>Решение</summary>

```go
package main  // package с маленькой буквы

import "fmt"  // имя пакета в кавычках

func main() {  // main с маленькой буквы
    fmt.Println("Hello")
}
```
</details>

---

## 🔗 Полезные ссылки

- [Effective Go — Formatting](https://go.dev/doc/effective_go#formatting)
- [Go fmt — форматирование кода](https://pkg.go.dev/fmt)
