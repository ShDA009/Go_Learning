# –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞

## üí° –ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏

1. **–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–≤—è–∑—å** ‚Äî –∫–ª–∏–µ–Ω—Ç –∏ —Å–µ—Ä–≤–µ—Ä –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏
2. **–ü—Ä–æ—Ç–æ–∫–æ–ª** ‚Äî –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç—å –æ —Ñ–æ—Ä–º–∞—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–π
3. **–ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è** ‚Äî —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Ä—Ü–∏—è–º–∏
4. **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ –æ–¥–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
5. **–ì–æ—Ä—É—Ç–∏–Ω—ã** ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

---

## üìã –°–∏–Ω—Ç–∞–∫—Å–∏—Å

### –ü–∞—Ç—Ç–µ—Ä–Ω –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

```
–ö–ª–∏–µ–Ω—Ç                    –°–µ—Ä–≤–µ—Ä
   |                         |
   |---- Dial() ------------>|
   |                  Accept()|
   |                         |
   |---- Write() ----------->|
   |                   Read()|
   |                         |
   |<--- Write() ------------|
   | Read()                  |
   |                         |
   |---- Close() ----------->|
   |                  Close()|
```

### –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```go
// –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±—É—Ñ–µ—Ä
buffer := make([]byte, 1024)
n, err := conn.Read(buffer)
data := buffer[:n]
```

---

## üìñ –¢–µ–æ—Ä–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: –≥–¥–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ?

TCP ‚Äî —ç—Ç–æ **–ø–æ—Ç–æ–∫ –±–∞–π—Ç–æ–≤**, –Ω–µ –ø–æ—Ç–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π. –ï—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª "Hello" –∏ "World", —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å:
- `"HelloWorld"` ‚Äî –≤—Å—ë –≤–º–µ—Å—Ç–µ
- `"Hel"` + `"loWorld"` ‚Äî –ø–æ —á–∞—Å—Ç—è–º
- `"Hello"` + `"World"` ‚Äî –∫–∞–∫ –æ–∂–∏–¥–∞–ª–∏ (–ø–æ–≤–µ–∑–ª–æ)

### –ü—Ä–æ—Ç–æ–∫–æ–ª ‚Äî –≤–∞—à –∫–æ–Ω—Ç—Ä–∞–∫—Ç

**–ü—Ä–æ—Ç–æ–∫–æ–ª** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:
- –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü–æ—Ä—è–¥–æ–∫ –æ–±–º–µ–Ω–∞
- –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–Ω–µ—Ü —Å–æ–æ–±—â–µ–Ω–∏—è

### –°–ø–æ—Å–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü

**1. –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å:**
```go
// –°–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω—ã \n
"message1\nmessage2\nmessage3\n"

// –ß–∏—Ç–∞–µ–º –ø–æ—Å—Ç—Ä–æ—á–Ω–æ
reader := bufio.NewReader(conn)
for {
    line, err := reader.ReadString('\n')
    if err != nil {
        break
    }
    process(line)
}
```

**2. –ü—Ä–µ—Ñ–∏–∫—Å –¥–ª–∏–Ω—ã:**
```go
// 4 –±–∞–π—Ç–∞ –¥–ª–∏–Ω—ã + –¥–∞–Ω–Ω—ã–µ
func send(conn net.Conn, data []byte) {
    length := make([]byte, 4)
    binary.BigEndian.PutUint32(length, uint32(len(data)))
    conn.Write(length)
    conn.Write(data)
}

func receive(conn net.Conn) []byte {
    length := make([]byte, 4)
    io.ReadFull(conn, length)
    size := binary.BigEndian.Uint32(length)
    data := make([]byte, size)
    io.ReadFull(conn, data)
    return data
}
```

**3. –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä:**
```go
// –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ 100 –±–∞–π—Ç
buf := make([]byte, 100)
io.ReadFull(conn, buf)
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: —Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª

```go
// –°–µ—Ä–≤–µ—Ä
reader := bufio.NewReader(conn)
writer := bufio.NewWriter(conn)

for {
    // –ß–∏—Ç–∞–µ–º –∫–æ–º–∞–Ω–¥—É
    cmd, _ := reader.ReadString('\n')
    cmd = strings.TrimSpace(cmd)
    
    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º
    var response string
    switch cmd {
    case "PING":
        response = "PONG"
    case "TIME":
        response = time.Now().String()
    default:
        response = "ERROR: unknown command"
    }
    
    // –û—Ç–≤–µ—á–∞–µ–º
    writer.WriteString(response + "\n")
    writer.Flush()
}
```

### –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (Keep-Alive)

–û–¥–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ‚Äî –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤:
```go
func handleClient(conn net.Conn) {
    defer conn.Close()
    reader := bufio.NewReader(conn)
    
    for {  // —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
        request, err := reader.ReadString('\n')
        if err != nil {
            return  // –∫–ª–∏–µ–Ω—Ç –æ—Ç–∫–ª—é—á–∏–ª—Å—è
        }
        
        response := process(request)
        conn.Write([]byte(response + "\n"))
    }
}
```

### –ß—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö

–î–ª—è `io.ReadFull` –∏ `io.ReadAll`:
```go
// –¢–æ—á–Ω–æ 100 –±–∞–π—Ç (–∏–ª–∏ –æ—à–∏–±–∫–∞)
buf := make([]byte, 100)
_, err := io.ReadFull(conn, buf)

// –ß–∏—Ç–∞—Ç—å –¥–æ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
data, err := io.ReadAll(conn)
```

---

## üìã –°–∏–Ω—Ç–∞–∫—Å–∏—Å

### –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```go
// –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±—É—Ñ–µ—Ä
buffer := make([]byte, 1024)
n, err := conn.Read(buffer)
data := buffer[:n]

// –ü–æ—Å—Ç—Ä–æ—á–Ω–æ–µ —á—Ç–µ–Ω–∏–µ
reader := bufio.NewReader(conn)
line, err := reader.ReadString('\n')
```

---

## üíª –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä: –°–µ—Ä–≤–µ—Ä-—Å–ª–æ–≤–∞—Ä—å

```go
// server.go
package main

import (
    "bufio"
    "fmt"
    "net"
    "strings"
)

var dictionary = map[string]string{
    "hello":   "–ø—Ä–∏–≤–µ—Ç",
    "world":   "–º–∏—Ä",
    "goodbye": "–¥–æ —Å–≤–∏–¥–∞–Ω–∏—è",
    "thanks":  "—Å–ø–∞—Å–∏–±–æ",
    "please":  "–ø–æ–∂–∞–ª—É–π—Å—Ç–∞",
}

func handleClient(conn net.Conn) {
    defer conn.Close()
    
    reader := bufio.NewReader(conn)
    clientAddr := conn.RemoteAddr().String()
    fmt.Printf("Client connected: %s\n", clientAddr)
    
    for {
        // –ß–∏—Ç–∞–µ–º –∑–∞–ø—Ä–æ—Å
        word, err := reader.ReadString('\n')
        if err != nil {
            fmt.Printf("Client %s disconnected\n", clientAddr)
            return
        }
        
        word = strings.TrimSpace(word)
        if word == "quit" {
            conn.Write([]byte("Goodbye!\n"))
            return
        }
        
        // –ò—â–µ–º –ø–µ—Ä–µ–≤–æ–¥
        translation, found := dictionary[strings.ToLower(word)]
        if !found {
            translation = "–Ω–µ –Ω–∞–π–¥–µ–Ω–æ"
        }
        
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç
        response := fmt.Sprintf("%s\n", translation)
        conn.Write([]byte(response))
        
        fmt.Printf("[%s] %s -> %s\n", clientAddr, word, translation)
    }
}

func main() {
    listener, err := net.Listen("tcp", ":4545")
    if err != nil {
        fmt.Println("Error:", err)
        return
    }
    defer listener.Close()
    
    fmt.Println("Dictionary server started on :4545")
    
    for {
        conn, err := listener.Accept()
        if err != nil {
            continue
        }
        go handleClient(conn)
    }
}
```

### –ö–ª–∏–µ–Ω—Ç –¥–ª—è —Å–ª–æ–≤–∞—Ä—è

```go
// client.go
package main

import (
    "bufio"
    "fmt"
    "net"
    "os"
    "strings"
)

func main() {
    conn, err := net.Dial("tcp", "127.0.0.1:4545")
    if err != nil {
        fmt.Println("Connection error:", err)
        return
    }
    defer conn.Close()
    
    reader := bufio.NewReader(conn)
    scanner := bufio.NewScanner(os.Stdin)
    
    fmt.Println("Dictionary client (type 'quit' to exit)")
    
    for {
        fmt.Print("Enter word: ")
        if !scanner.Scan() {
            break
        }
        
        word := strings.TrimSpace(scanner.Text())
        if word == "" {
            continue
        }
        
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–ª–æ–≤–æ —Å–µ—Ä–≤–µ—Ä—É
        conn.Write([]byte(word + "\n"))
        
        // –ü–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç
        response, err := reader.ReadString('\n')
        if err != nil {
            fmt.Println("Read error:", err)
            break
        }
        
        fmt.Printf("Translation: %s", response)
        
        if word == "quit" {
            break
        }
    }
}
```

### –ß–∞—Ç-—Å–µ—Ä–≤–µ—Ä —Å broadcast

```go
// chat_server.go
package main

import (
    "bufio"
    "fmt"
    "net"
    "strings"
    "sync"
)

type ChatServer struct {
    clients map[net.Conn]string
    mu      sync.RWMutex
}

func NewChatServer() *ChatServer {
    return &ChatServer{
        clients: make(map[net.Conn]string),
    }
}

func (s *ChatServer) broadcast(message string, sender net.Conn) {
    s.mu.RLock()
    defer s.mu.RUnlock()
    
    for conn := range s.clients {
        if conn != sender {
            conn.Write([]byte(message))
        }
    }
}

func (s *ChatServer) addClient(conn net.Conn, name string) {
    s.mu.Lock()
    s.clients[conn] = name
    s.mu.Unlock()
}

func (s *ChatServer) removeClient(conn net.Conn) {
    s.mu.Lock()
    delete(s.clients, conn)
    s.mu.Unlock()
}

func (s *ChatServer) handleClient(conn net.Conn) {
    defer conn.Close()
    
    reader := bufio.NewReader(conn)
    
    // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –∏–º—è
    conn.Write([]byte("Enter your name: "))
    name, err := reader.ReadString('\n')
    if err != nil {
        return
    }
    name = strings.TrimSpace(name)
    
    s.addClient(conn, name)
    defer s.removeClient(conn)
    
    s.broadcast(fmt.Sprintf("*** %s joined the chat ***\n", name), conn)
    fmt.Printf("%s connected\n", name)
    
    for {
        message, err := reader.ReadString('\n')
        if err != nil {
            break
        }
        
        message = strings.TrimSpace(message)
        if message == "" {
            continue
        }
        
        if message == "/quit" {
            break
        }
        
        s.broadcast(fmt.Sprintf("[%s]: %s\n", name, message), conn)
    }
    
    s.broadcast(fmt.Sprintf("*** %s left the chat ***\n", name), conn)
    fmt.Printf("%s disconnected\n", name)
}

func main() {
    server := NewChatServer()
    
    listener, err := net.Listen("tcp", ":4545")
    if err != nil {
        fmt.Println("Error:", err)
        return
    }
    defer listener.Close()
    
    fmt.Println("Chat server started on :4545")
    
    for {
        conn, err := listener.Accept()
        if err != nil {
            continue
        }
        go server.handleClient(conn)
    }
}
```

### –ö–ª–∏–µ–Ω—Ç —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º —á—Ç–µ–Ω–∏–µ–º

```go
// chat_client.go
package main

import (
    "bufio"
    "fmt"
    "net"
    "os"
)

func main() {
    conn, err := net.Dial("tcp", "127.0.0.1:4545")
    if err != nil {
        fmt.Println("Connection error:", err)
        return
    }
    defer conn.Close()
    
    // –ì–æ—Ä—É—Ç–∏–Ω–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
    go func() {
        reader := bufio.NewReader(conn)
        for {
            message, err := reader.ReadString('\n')
            if err != nil {
                fmt.Println("Disconnected")
                os.Exit(0)
            }
            fmt.Print(message)
        }
    }()
    
    // –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
    scanner := bufio.NewScanner(os.Stdin)
    for scanner.Scan() {
        text := scanner.Text()
        conn.Write([]byte(text + "\n"))
        if text == "/quit" {
            break
        }
    }
}
```

### –ü—Ä–æ—Ç–æ–∫–æ–ª —Å –¥–ª–∏–Ω–æ–π —Å–æ–æ–±—â–µ–Ω–∏—è

```go
package main

import (
    "encoding/binary"
    "fmt"
    "net"
)

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º –¥–ª–∏–Ω—ã
func sendMessage(conn net.Conn, message string) error {
    data := []byte(message)
    length := uint32(len(data))
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–ª–∏–Ω—É (4 –±–∞–π—Ç–∞)
    if err := binary.Write(conn, binary.BigEndian, length); err != nil {
        return err
    }
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
    _, err := conn.Write(data)
    return err
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º –¥–ª–∏–Ω—ã
func receiveMessage(conn net.Conn) (string, error) {
    var length uint32
    
    // –ß–∏—Ç–∞–µ–º –¥–ª–∏–Ω—É
    if err := binary.Read(conn, binary.BigEndian, &length); err != nil {
        return "", err
    }
    
    // –ß–∏—Ç–∞–µ–º –¥–∞–Ω–Ω—ã–µ
    data := make([]byte, length)
    _, err := conn.Read(data)
    if err != nil {
        return "", err
    }
    
    return string(data), nil
}

func main() {
    // –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    conn, _ := net.Dial("tcp", "127.0.0.1:4545")
    defer conn.Close()
    
    sendMessage(conn, "Hello, Server!")
    response, _ := receiveMessage(conn)
    fmt.Println("Response:", response)
}
```

---

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### 1. –í–∑–∞–∏–º–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞

```go
// ‚ùå –ö–ª–∏–µ–Ω—Ç –∏ —Å–µ—Ä–≤–µ—Ä –æ–±–∞ –∂–¥—É—Ç Read
// –ö–ª–∏–µ–Ω—Ç:
conn.Read(buffer)  // –∂–¥—ë—Ç

// –°–µ—Ä–≤–µ—Ä:
conn.Read(buffer)  // —Ç–æ–∂–µ –∂–¥—ë—Ç

// ‚úÖ –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª: –∫—Ç–æ –ø–µ—Ä–≤—ã–π –ø–∏—à–µ—Ç
// –û–±—ã—á–Ω–æ: –∫–ª–∏–µ–Ω—Ç –ø–∏—à–µ—Ç -> —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç
```

### 2. –ù–µ–ø–æ–ª–Ω–æ–µ —á—Ç–µ–Ω–∏–µ

```go
// ‚ùå Read –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –º–µ–Ω—å—à–µ –¥–∞–Ω–Ω—ã—Ö
buffer := make([]byte, 1024)
conn.Read(buffer)  // –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å

// ‚úÖ –ß–∏—Ç–∞–π—Ç–µ –≤ —Ü–∏–∫–ª–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ io.ReadFull
```

### 3. –ù–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π

```go
// ‚ùå –ù–µ–ø–æ–Ω—è—Ç–Ω–æ, –≥–¥–µ –∫–æ–Ω–µ—Ü —Å–æ–æ–±—â–µ–Ω–∏—è
conn.Write([]byte("Hello"))
conn.Write([]byte("World"))
// –ù–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è: "HelloWorld"

// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –∏–ª–∏ –¥–ª–∏–Ω—É
conn.Write([]byte("Hello\n"))
conn.Write([]byte("World\n"))
```

---

## üèãÔ∏è –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

### –ó–∞–¥–∞–Ω–∏–µ 1: Middleware –ø–∞—Ç—Ç–µ—Ä–Ω

–°–æ–∑–¥–∞–π—Ç–µ middleware —Ñ—É–Ω–∫—Ü–∏—é.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Middleware: func(next http.Handler) http.Handler
```

**–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:**
```go
package main

import "fmt"

func main() {
    fmt.Println("Middleware: func(next http.Handler) http.Handler")
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
Middleware: func(next http.Handler) http.Handler
```

**–ë–∞–ª–ª—ã:** 15

### –ó–∞–¥–∞–Ω–∏–µ 2: Logging middleware

–õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Logging: log.Printf("%s %s", r.Method, r.URL.Path)
```

**–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:**
```go
package main

import "fmt"

func main() {
    fmt.Println("Logging: log.Printf(\"%s %s\", r.Method, r.URL.Path)")
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
Logging: log.Printf("%s %s", r.Method, r.URL.Path)
```

**–ë–∞–ª–ª—ã:** 10

### –ó–∞–¥–∞–Ω–∏–µ 3: Recovery middleware

–ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–π—Ç–µ panic.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Recovery: defer func() { if r := recover(); r != nil {...} }()
```

**–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:**
```go
package main

import "fmt"

// TODO: –í—ã–∑–æ–≤–∏—Ç–µ panic
// TODO: –†–µ–∞–ª–∏–∑—É–π—Ç–µ recover –≤ defer
// TODO: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ defer

func main() {
    // –í–∞—à –∫–æ–¥ –∑–¥–µ—Å—å
    
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
Recovery: defer func() { if r := recover(); r != nil {...} }()
```

**–ë–∞–ª–ª—ã:** 15

### –ó–∞–¥–∞–Ω–∏–µ 4: Auth middleware

–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Auth: if !isAuthenticated(r) { http.Error(...); return }
```

**–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:**
```go
package main

import "fmt"

func main() {
    fmt.Println("Auth: if !isAuthenticated(r) { http.Error(...); return }")
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
Auth: if !isAuthenticated(r) { http.Error(...); return }
```

**–ë–∞–ª–ª—ã:** 15

### –ó–∞–¥–∞–Ω–∏–µ 5: –¶–µ–ø–æ—á–∫–∞ middleware

–°–æ–µ–¥–∏–Ω–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ middleware.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–¶–µ–ø–æ—á–∫–∞: logging(auth(handler))
```

**–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:**
```go
package main

import "fmt"

func main() {
    fmt.Println("–¶–µ–ø–æ—á–∫–∞: logging(auth(handler))")
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
–¶–µ–ø–æ—á–∫–∞: logging(auth(handler))
```

**–ë–∞–ª–ª—ã:** 15
